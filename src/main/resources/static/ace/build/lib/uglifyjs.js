!function(n,e){"use strict";function t(n){for(var e=Object.create(null),t=0;t<n.length;++t)e[n[t]]=!0;return e}function r(n,e){return Array.prototype.slice.call(n,e||0)}function o(n){return n.split("")}function i(n,e){for(var t=e.length;--t>=0;)if(e[t]==n)return!0;return!1}function a(n,e){for(var t=0,r=e.length;r>t;++t)if(n(e[t]))return e[t]}function u(n,e){if(0>=e)return"";if(1==e)return n;var t=u(n,e>>1);return t+=t,1&e&&(t+=n),t}function s(n,e){Error.call(this,n),this.msg=n,this.defs=e}function c(n,e,t){n===!0&&(n={});var r=n||{};if(t)for(var o in r)r.hasOwnProperty(o)&&!e.hasOwnProperty(o)&&s.croak("`"+o+"` is not a supported option",e);for(var o in e)e.hasOwnProperty(o)&&(r[o]=n&&n.hasOwnProperty(o)?n[o]:e[o]);return r}function f(n,e){var t=0;for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r],t++);return t}function l(){}function p(n,e){n.indexOf(e)<0&&n.push(e)}function d(n,e){return n.replace(/\{(.+?)\}/g,function(n,t){return e[t]})}function h(n,e){for(var t=n.length;--t>=0;)n[t]===e&&n.splice(t,1)}function _(n,e){function t(n,t){for(var r=[],o=0,i=0,a=0;o<n.length&&i<t.length;)e(n[o],t[i])<=0?r[a++]=n[o++]:r[a++]=t[i++];return o<n.length&&r.push.apply(r,n.slice(o)),i<t.length&&r.push.apply(r,t.slice(i)),r}function r(n){if(n.length<=1)return n;var e=Math.floor(n.length/2),o=n.slice(0,e),i=n.slice(e);return o=r(o),i=r(i),t(o,i)}return n.length<2?n.slice():r(n)}function m(n,e){return n.filter(function(n){return e.indexOf(n)<0})}function v(n,e){return n.filter(function(n){return e.indexOf(n)>=0})}function g(n){function e(n){if(1==n.length)return t+="return str === "+JSON.stringify(n[0])+";";t+="switch(str){";for(var e=0;e<n.length;++e)t+="case "+JSON.stringify(n[e])+":";t+="return true}return false;"}n instanceof Array||(n=n.split(" "));var t="",r=[];n:for(var o=0;o<n.length;++o){for(var i=0;i<r.length;++i)if(r[i][0].length==n[o].length){r[i].push(n[o]);continue n}r.push([n[o]])}if(r.length>3){r.sort(function(n,e){return e.length-n.length}),t+="switch(str.length){";for(var o=0;o<r.length;++o){var a=r[o];t+="case "+a[0].length+":",e(a)}t+="}"}else e(n);return new Function("str",t)}function b(n,e){for(var t=n.length;--t>=0;)if(!e(n[t]))return!1;return!0}function y(){this._values=Object.create(null),this._size=0}function A(n,e,t,r){arguments.length<4&&(r=G),e=e?e.split(/\s+/):[];var o=e;r&&r.PROPS&&(e=e.concat(r.PROPS));for(var i="return function AST_"+n+"(props){ if (props) { ",a=e.length;--a>=0;)i+="this."+e[a]+" = props."+e[a]+";";var u=r&&new r;(u&&u.initialize||t&&t.initialize)&&(i+="this.initialize();"),i+="}}";var s=new Function(i)();if(u&&(s.prototype=u,s.BASE=r),r&&r.SUBCLASSES.push(s),s.prototype.CTOR=s,s.PROPS=e||null,s.SELF_PROPS=o,s.SUBCLASSES=[],n&&(s.prototype.TYPE=s.TYPE=n),t)for(a in t)t.hasOwnProperty(a)&&(/^\$/.test(a)?s[a.substr(1)]=t[a]:s.prototype[a]=t[a]);return s.DEFMETHOD=function(n,e){this.prototype[n]=e},s}function w(n,e){n.body instanceof J?n.body._walk(e):n.body.forEach(function(n){n._walk(e)})}function E(n){this.visit=n,this.stack=[]}function D(n){return n>=97&&122>=n||n>=65&&90>=n||n>=170&&Pe.letter.test(String.fromCharCode(n))}function F(n){return n>=48&&57>=n}function C(n){return F(n)||D(n)}function S(n){return Pe.digit.test(String.fromCharCode(n))}function k(n){return Pe.non_spacing_mark.test(n)||Pe.space_combining_mark.test(n)}function B(n){return Pe.connector_punctuation.test(n)}function x(n){return!xe(n)&&/^[a-z_$][a-z0-9_$]*$/i.test(n)}function T(n){return 36==n||95==n||D(n)}function O(n){var e=n.charCodeAt(0);return T(e)||F(e)||8204==e||8205==e||k(n)||B(n)||S(e)}function $(n){return/^[a-z_$][a-z0-9_$]*$/i.test(n)}function M(n){return $e.test(n)?parseInt(n.substr(2),16):Me.test(n)?parseInt(n.substr(1),8):qe.test(n)?parseFloat(n):void 0}function q(n,e,t,r,o){this.message=n,this.filename=e,this.line=t,this.col=r,this.pos=o,this.stack=(new Error).stack}function N(n,e,t,r,o){throw new q(n,e,t,r,o)}function z(n,e,t){return n.type==e&&(null==t||n.value==t)}function H(n,e,t){function r(){return D.text.charAt(D.pos)}function o(n,e){var t=D.text.charAt(D.pos++);if(n&&!t)throw Ie;return"\r\n\u2028\u2029".indexOf(t)>=0?(D.newline_before=D.newline_before||!e,++D.line,D.col=0,e||"\r"!=t||"\n"!=r()||(++D.pos,t="\n")):++D.col,t}function i(n){for(;n-->0;)o()}function a(n){return D.text.substr(D.pos,n.length)==n}function u(n,e){var t=D.text.indexOf(n,D.pos);if(e&&-1==t)throw Ie;return t}function s(){D.tokline=D.line,D.tokcol=D.col,D.tokpos=D.pos}function c(n,t,r){D.regex_allowed="operator"==n&&!Le(t)||"keyword"==n&&Te(t)||"punc"==n&&He(t),S="punc"==n&&"."==t;var o={type:n,value:t,line:D.tokline,col:D.tokcol,pos:D.tokpos,endline:D.line,endcol:D.col,endpos:D.pos,nlb:D.newline_before,file:e};if(!r){o.comments_before=D.comments_before,D.comments_before=[];for(var i=0,a=o.comments_before.length;a>i;i++)o.nlb=o.nlb||o.comments_before[i].nlb}return D.newline_before=!1,new X(o)}function f(){for(var n;ze(n=r())||"\u2028"==n||"\u2029"==n;)o()}function l(n){for(var e,t="",i=0;(e=r())&&n(e,i++);)t+=o();return t}function p(n){N(n,e,D.tokline,D.tokcol,D.tokpos)}function d(n){var e=!1,t=!1,r=!1,o="."==n,i=l(function(i,a){var u=i.charCodeAt(0);switch(u){case 120:case 88:return r?!1:r=!0;case 101:case 69:return r?!0:e?!1:e=t=!0;case 45:return t||0==a&&!n;case 43:return t;case t=!1,46:return o||r||e?!1:o=!0}return C(u)});n&&(i=n+i);var a=M(i);return isNaN(a)?void p("Invalid syntax: "+i):c("num",a)}function h(n){var e=o(!0,n);switch(e.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"	";case 98:return"\b";case 118:return"";case 102:return"\f";case 48:return"\x00";case 120:return String.fromCharCode(_(2));case 117:return String.fromCharCode(_(4));case 10:return"";case 13:if("\n"==r())return o(!0,n),""}return e}function _(n){for(var e=0;n>0;--n){var t=parseInt(o(!0),16);isNaN(t)&&p("Invalid hex-character pattern in string"),e=e<<4|t}return e}function m(n){var e,t=D.regex_allowed,r=u("\n");return-1==r?(e=D.text.substr(D.pos),D.pos=D.text.length):(e=D.text.substring(D.pos,r),D.pos=r),D.col=D.tokcol+(D.pos-D.tokpos),D.comments_before.push(c(n,e,!0)),D.regex_allowed=t,E()}function v(){for(var n,e,t=!1,i="",a=!1;null!=(n=r());)if(t)"u"!=n&&p("Expecting UnicodeEscapeSequence -- uXXXX"),n=h(),O(n)||p("Unicode char: "+n.charCodeAt(0)+" is not valid in identifier"),i+=n,t=!1;else if("\\"==n)a=t=!0,o();else{if(!O(n))break;i+=o()}return ke(i)&&a&&(e=i.charCodeAt(0).toString(16).toUpperCase(),i="\\u"+"0000".substr(e.length)+e+i.slice(1)),i}function g(n){function e(n){if(!r())return n;var t=n+r();return Ne(t)?(o(),e(t)):n}return c("operator",e(n||o()))}function b(){switch(o(),r()){case"/":return o(),m("comment1");case"*":return o(),B()}return D.regex_allowed?x(""):g("/")}function y(){return o(),F(r().charCodeAt(0))?d("."):c("punc",".")}function A(){var n=v();return S?c("name",n):Be(n)?c("atom",n):ke(n)?Ne(n)?c("operator",n):c("keyword",n):c("name",n)}function w(n,e){return function(t){try{return e(t)}catch(r){if(r!==Ie)throw r;p(n)}}}function E(n){if(null!=n)return x(n);if(f(),s(),t){if(a("<!--"))return i(4),m("comment3");if(a("-->")&&D.newline_before)return i(3),m("comment4")}var e=r();if(!e)return c("eof");var u=e.charCodeAt(0);switch(u){case 34:case 39:return k(e);case 46:return y();case 47:return b()}return F(u)?d():Re(e)?c("punc",o()):Oe(e)?g():92==u||T(u)?A():void p("Unexpected character '"+e+"'")}var D={text:n,filename:e,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[]},S=!1,k=w("Unterminated string constant",function(n){for(var e=o(),t="";;){var r=o(!0,!0);if("\\"==r){var i=0,a=null;r=l(function(n){if(n>="0"&&"7">=n){if(!a)return a=n,++i;if("3">=a&&2>=i)return++i;if(a>="4"&&1>=i)return++i}return!1}),r=i>0?String.fromCharCode(parseInt(r,8)):h(!0)}else if(r==e)break;t+=r}var u=c("string",t);return u.quote=n,u}),B=w("Unterminated multiline comment",function(){var n=D.regex_allowed,e=u("*/",!0),t=D.text.substring(D.pos,e),r=t.split("\n"),o=r.length;D.pos=e+2,D.line+=o-1,o>1?D.col=r[o-1].length:D.col+=r[o-1].length,D.col+=2;var i=D.newline_before=D.newline_before||t.indexOf("\n")>=0;return D.comments_before.push(c("comment2",t,!0)),D.regex_allowed=n,D.newline_before=i,E()}),x=w("Unterminated regular expression",function(n){for(var e,t=!1,r=!1;e=o(!0);)if(t)n+="\\"+e,t=!1;else if("["==e)r=!0,n+=e;else if("]"==e&&r)r=!1,n+=e;else{if("/"==e&&!r)break;"\\"==e?t=!0:n+=e}var i=v();return c("regexp",new RegExp(n,i))});return E.context=function(n){return n&&(D=n),D},E}function R(n,e){function t(n,e){return z(I.token,n,e)}function r(){return I.peeked||(I.peeked=I.input())}function o(){return I.prev=I.token,I.peeked?(I.token=I.peeked,I.peeked=null):I.token=I.input(),I.in_directives=I.in_directives&&("string"==I.token.type||t("punc",";")),I.token}function i(){return I.prev}function u(n,e,t,r){var o=I.input.context();N(n,o.filename,null!=e?e:o.tokline,null!=t?t:o.tokcol,null!=r?r:o.tokpos)}function s(n,e){u(e,n.line,n.col)}function f(n){null==n&&(n=I.token),s(n,"Unexpected token: "+n.type+" ("+n.value+")")}function l(n,e){return t(n,e)?o():void s(I.token,"Unexpected token "+I.token.type+" «"+I.token.value+"», expected "+n+" «"+e+"»")}function p(n){return l("punc",n)}function d(){return!e.strict&&(I.token.nlb||t("eof")||t("punc","}"))}function h(){t("punc",";")?o():d()||f()}function _(){p("(");var n=bn(!0);return p(")"),n}function m(n){return function(){var e=I.token,t=n(),r=i();return t.start=e,t.end=r,t}}function v(){(t("operator","/")||t("operator","/="))&&(I.peeked=null,I.token=I.input(I.token.value.substr(1)))}function g(){var n=M(le);a(function(e){return e.name==n.name},I.labels)&&u("Label "+n.name+" defined twice"),p(":"),I.labels.push(n);var e=U();return I.labels.pop(),e instanceof an||n.references.forEach(function(e){e instanceof Fn&&(e=e.label.start,u("Continue label `"+n.name+"` refers to non-IterationStatement.",e.line,e.col,e.pos))}),new on({body:e,label:n})}function b(n){return new Q({body:(n=bn(!0),h(),n)})}function y(n){var e,t=null;d()||(t=M(de,!0)),null!=t?(e=a(function(n){return n.name==t.name},I.labels),e||u("Undefined label "+t.name),t.thedef=e):0==I.in_loop&&u(n.TYPE+" not inside a loop or switch"),h();var r=new n({label:t});return e&&e.references.push(r),r}function A(){p("(");var n=null;return!t("punc",";")&&(n=t("keyword","var")?(o(),V(!0)):bn(!0,!0),t("operator","in"))?(n instanceof qn&&n.definitions.length>1&&u("Only one variable declaration allowed in for..in loop"),o(),E(n)):w(n)}function w(n){p(";");var e=t("punc",";")?null:bn(!0);p(";");var r=t("punc",")")?null:bn(!0);return p(")"),new fn({init:n,condition:e,step:r,body:P(U)})}function E(n){var e=n instanceof qn?n.definitions[0].name:null,t=bn(!0);return p(")"),new ln({init:n,name:e,object:t,body:P(U)})}function D(){var n=_(),e=U(),r=null;return t("keyword","else")&&(o(),r=U()),new Cn({condition:n,body:e,alternative:r})}function F(){p("{");for(var n=[];!t("punc","}");)t("eof")&&f(),n.push(U());return o(),n}function C(){p("{");for(var n,e=[],r=null,a=null;!t("punc","}");)t("eof")&&f(),t("keyword","case")?(a&&(a.end=i()),r=[],a=new xn({start:(n=I.token,o(),n),expression:bn(!0),body:r}),e.push(a),p(":")):t("keyword","default")?(a&&(a.end=i()),r=[],a=new Bn({start:(n=I.token,o(),p(":"),n),body:r}),e.push(a)):(r||f(),r.push(U()));return a&&(a.end=i()),o(),e}function S(){var n=F(),e=null,r=null;if(t("keyword","catch")){var a=I.token;o(),p("(");var s=M(fe);p(")"),e=new On({start:a,argname:s,body:F(),end:i()})}if(t("keyword","finally")){var a=I.token;o(),r=new $n({start:a,body:F(),end:i()})}return e||r||u("Missing catch/finally blocks"),new Tn({body:n,bcatch:e,bfinally:r})}function k(n,e){for(var r=[];r.push(new zn({start:I.token,name:M(e?ae:ie),value:t("operator","=")?(o(),bn(!1,n)):null,end:i()})),t("punc",",");)o();return r}function B(){var n,e=I.token;switch(e.type){case"name":case"keyword":n=$(pe);break;case"num":n=new ve({start:e,end:e,value:e.value});break;case"string":n=new me({start:e,end:e,value:e.value,quote:e.quote});break;case"regexp":n=new ge({start:e,end:e,value:e.value});break;case"atom":switch(e.value){case"false":n=new Ce({start:e,end:e});break;case"true":n=new Se({start:e,end:e});break;case"null":n=new ye({start:e,end:e})}}return o(),n}function x(n,e,r){for(var i=!0,a=[];!t("punc",n)&&(i?i=!1:p(","),!e||!t("punc",n));)t("punc",",")&&r?a.push(new Ee({start:I.token,end:I.token})):a.push(bn(!1));return o(),a}function T(){var n=I.token;switch(o(),n.type){case"num":case"string":case"name":case"operator":case"keyword":case"atom":return n.value;default:f()}}function O(){var n=I.token;switch(o(),n.type){case"name":case"operator":case"keyword":case"atom":return n.value;default:f()}}function $(n){var e=I.token.value;return new("this"==e?he:n)({name:String(e),start:I.token,end:I.token})}function M(n,e){if(!t("name"))return e||u("Name expected"),null;var r=$(n);return o(),r}function q(n,e,t){return"++"!=e&&"--"!=e||j(t)||u("Invalid use of "+e+" operator"),new n({operator:e,expression:t})}function R(n){return un(rn(!0),0,n)}function j(n){return e.strict?n instanceof he?!1:n instanceof Pn||n instanceof te:!0}function P(n){++I.in_loop;var e=n();return--I.in_loop,e}e=c(e,{strict:!1,filename:null,toplevel:null,expression:!1,html5_comments:!0,bare_returns:!1});var I={input:"string"==typeof n?H(n,e.filename,e.html5_comments):n,token:null,prev:null,peeked:null,in_function:0,in_directives:!0,in_loop:0,labels:[]};I.token=o();var U=m(function(){var n;switch(v(),I.token.type){case"string":var a=I.in_directives,s=b();return a&&s.body instanceof me&&!t("punc",",")?new Z({start:s.body.start,end:s.body.end,quote:s.body.quote,value:s.body.value}):s;case"num":case"regexp":case"operator":case"atom":return b();case"name":return z(r(),"punc",":")?g():b();case"punc":switch(I.token.value){case"{":return new en({start:I.token,body:F(),end:i()});case"[":case"(":return b();case";":return o(),new tn;default:f()}case"keyword":switch(n=I.token.value,o(),n){case"break":return y(Dn);case"continue":return y(Fn);case"debugger":return h(),new K;case"do":return new sn({body:P(U),condition:(l("keyword","while"),n=_(),h(),n)});case"while":return new cn({condition:_(),body:P(U)});case"for":return A();case"function":return L(gn);case"if":return D();case"return":return 0!=I.in_function||e.bare_returns||u("'return' outside of function"),new An({value:t("punc",";")?(o(),null):d()?null:(n=bn(!0),h(),n)});case"switch":return new Sn({expression:_(),body:P(C)});case"throw":return I.token.nlb&&u("Illegal newline after 'throw'"),new wn({value:(n=bn(!0),h(),n)});case"try":return S();case"var":return n=V(),h(),n;case"const":return n=W(),h(),n;case"with":return new pn({expression:_(),body:U()});default:f()}}}),L=function(n){var e=n===gn,r=t("name")?M(e?se:ce):null;return e&&!r&&f(),p("("),new n({name:r,argnames:function(n,e){for(;!t("punc",")");)n?n=!1:p(","),e.push(M(ue));return o(),e}(!0,[]),body:function(n,e){++I.in_function,I.in_directives=!0,I.in_loop=0,I.labels=[];var t=F();return--I.in_function,I.in_loop=n,I.labels=e,t}(I.in_loop,I.labels)})},V=function(n){return new qn({start:i(),definitions:k(n,!1),end:i()})},W=function(){return new Nn({start:i(),definitions:k(!1,!0),end:i()})},Y=function(){var n=I.token;l("operator","new");var e,r=X(!1);return t("punc","(")?(o(),e=x(")")):e=[],nn(new Rn({start:n,expression:r,args:e,end:i()}),!0)},X=function(n){if(t("operator","new"))return Y();var e=I.token;if(t("punc")){switch(e.value){case"(":o();var r=bn(!0);return r.start=e,r.end=I.token,p(")"),nn(r,n);case"[":return nn(G(),n);case"{":return nn(J(),n)}f()}if(t("keyword","function")){o();var a=L(vn);return a.start=e,a.end=i(),nn(a,n)}return Xe[I.token.type]?nn(B(),n):void f()},G=m(function(){return p("["),new Jn({elements:x("]",!e.strict,!0)})}),J=m(function(){p("{");for(var n=!0,r=[];!t("punc","}")&&(n?n=!1:p(","),e.strict||!t("punc","}"));){var a=I.token,u=a.type,s=T();if("name"==u&&!t("punc",":")){if("get"==s){r.push(new ee({start:a,key:B(),value:L(mn),end:i()}));continue}if("set"==s){r.push(new ne({start:a,key:B(),value:L(mn),end:i()}));continue}}p(":"),r.push(new Qn({start:a,quote:a.quote,key:s,value:bn(!1),end:i()}))}return o(),new Kn({properties:r})}),nn=function(n,e){var r=n.start;if(t("punc","."))return o(),nn(new In({start:r,expression:n,property:O(),end:i()}),e);if(t("punc","[")){o();var a=bn(!0);return p("]"),nn(new Un({start:r,expression:n,property:a,end:i()}),e)}return e&&t("punc","(")?(o(),nn(new Hn({start:r,expression:n,args:x(")"),end:i()}),!0)):n},rn=function(n){var e=I.token;if(t("operator")&&Ue(e.value)){o(),v();var r=q(Vn,e.value,rn(n));return r.start=e,r.end=i(),r}for(var a=X(n);t("operator")&&Le(I.token.value)&&!I.token.nlb;)a=q(Wn,I.token.value,a),a.start=e,a.end=I.token,o();return a},un=function(n,e,r){var i=t("operator")?I.token.value:null;"in"==i&&r&&(i=null);var a=null!=i?We[i]:null;if(null!=a&&a>e){o();var u=un(rn(!0),a,r);return un(new Yn({start:n.start,left:n,operator:i,right:u,end:u.end}),e,r)}return n},dn=function(n){var e=I.token,r=R(n);if(t("operator","?")){o();var a=bn(!1);return p(":"),new Xn({start:e,condition:r,consequent:a,alternative:bn(!1,n),end:i()})}return r},_n=function(n){var e=I.token,r=dn(n),a=I.token.value;if(t("operator")&&Ve(a)){if(j(r))return o(),new Gn({start:e,left:r,operator:a,right:_n(n),end:i()});u("Invalid assignment")}return r},bn=function(n,e){var i=I.token,a=_n(e);return n&&t("punc",",")?(o(),new jn({start:i,car:a,cdr:bn(!0,e),end:r()})):a};return e.expression?bn(!0):function(){for(var n=I.token,r=[];!t("eof");)r.push(U());var o=i(),a=e.toplevel;return a?(a.body=a.body.concat(r),a.end=o):a=new hn({start:n,body:r,end:o}),a}()}function j(n,e){E.call(this),this.before=n,this.after=e}function P(n,e,t){this.name=t.name,this.orig=[t],this.scope=n,this.references=[],this.global=!1,this.mangled_name=null,this.undeclared=!1,this.constant=!1,this.index=e}function I(n){function e(n,e){return n.replace(/[\u0080-\uffff]/g,function(n){var t=n.charCodeAt(0).toString(16);if(t.length<=2&&!e){for(;t.length<2;)t="0"+t;return"\\x"+t}for(;t.length<4;)t="0"+t;return"\\u"+t})}function t(t,r){function o(){return"'"+t.replace(/\x27/g,"\\'")+"'"}function i(){return'"'+t.replace(/\x22/g,'\\"')+'"'}var a=0,u=0;switch(t=t.replace(/[\\\b\f\n\r\t\x22\x27\u2028\u2029\0\ufeff]/g,function(n){switch(n){case"\\":return"\\\\";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case'"':return++a,'"';case"'":return++u,"'";case"\x00":return"\\x00";case"\ufeff":return"\\ufeff"}return n}),n.ascii_only&&(t=e(t)),n.quote_style){case 1:return o();case 2:return i();case 3:return"'"==r?o():i();default:return a>u?o():i()}}function r(e,r){var o=t(e,r);return n.inline_script&&(o=o.replace(/<\x2fscript([>\/\t\n\f\r ])/gi,"<\\/script$1")),o}function o(t){return t=t.toString(),n.ascii_only&&(t=e(t,!0)),t}function i(e){return u(" ",n.indent_start+A-e*n.indent_level)}function a(){return k.charAt(k.length-1)}function s(){n.max_line_len&&w>n.max_line_len&&f("\n")}function f(e){e=String(e);var t=e.charAt(0);if(S&&(t&&!(";}".indexOf(t)<0)||/[;]$/.test(k)||(n.semicolons||B(t)?(F+=";",w++,D++):(F+="\n",D++,E++,w=0),n.beautify||(C=!1)),S=!1),!n.beautify&&n.preserve_line&&z[z.length-1])for(var r=z[z.length-1].start.line;r>E;)F+="\n",D++,E++,w=0,C=!1;if(C){var o=a();(O(o)&&(O(t)||"\\"==t)||/^[\+\-\/]$/.test(t)&&t==o)&&(F+=" ",w++,D++),C=!1}var i=e.split(/\r?\n/),u=i.length-1;E+=u,0==u?w+=i[u].length:w=i[u].length,D+=e.length,k=e,F+=e}function p(){S=!1,f(";")}function d(){return A+n.indent_level}function h(n){var e;return f("{"),M(),$(d(),function(){e=n()}),T(),f("}"),e}function _(n){f("(");var e=n();return f(")"),e}function m(n){f("[");var e=n();return f("]"),e}function v(){f(","),x()}function b(){f(":"),n.space_colon&&x()}function y(){return F}n=c(n,{indent_start:0,indent_level:4,quote_keys:!1,space_colon:!0,ascii_only:!1,unescape_regexps:!1,inline_script:!1,width:80,max_line_len:32e3,beautify:!1,source_map:null,bracketize:!1,semicolons:!0,comments:!1,preserve_line:!1,screw_ie8:!1,preamble:null,quote_style:0},!0);var A=0,w=0,E=1,D=0,F="",C=!1,S=!1,k=null,B=g("( [ + * / - , ."),x=n.beautify?function(){f(" ")}:function(){C=!0},T=n.beautify?function(e){n.beautify&&f(i(e?.5:0))}:l,$=n.beautify?function(n,e){n===!0&&(n=d());var t=A;A=n;var r=e();return A=t,r}:function(n,e){return e()},M=n.beautify?function(){f("\n")}:s,q=n.beautify?function(){f(";")}:function(){S=!0},N=n.source_map?function(e,t){try{e&&n.source_map.add(e.file||"?",E,w,e.line,e.col,t||"name"!=e.type?t:e.value)}catch(r){G.warn("Couldn't figure out mapping for {file}:{line},{col} → {cline},{ccol} [{name}]",{file:e.file,line:e.line,col:e.col,cline:E,ccol:w,name:t||""})}}:l;n.preamble&&f(n.preamble.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"));var z=[];return{get:y,toString:y,indent:T,indentation:function(){return A},current_width:function(){return w-A},should_break:function(){return n.width&&this.current_width()>=n.width},newline:M,print:f,space:x,comma:v,colon:b,last:function(){return k},semicolon:q,force_semicolon:p,to_ascii:e,print_name:function(n){f(o(n))},print_string:function(n,e){f(r(n,e))},next_indent:d,with_indent:$,with_block:h,with_parens:_,with_square:m,add_mapping:N,option:function(e){return n[e]},line:function(){return E},col:function(){return w},pos:function(){return D},push_node:function(n){z.push(n)},pop_node:function(){return z.pop()},stack:function(){return z},parent:function(n){return z[z.length-2-(n||0)]}}}function U(n,e){return this instanceof U?(j.call(this,this.before,this.after),void(this.options=c(n,{sequences:!e,properties:!e,dead_code:!e,drop_debugger:!e,unsafe:!1,unsafe_comps:!1,conditionals:!e,comparisons:!e,evaluate:!e,booleans:!e,loops:!e,unused:!e,hoist_funs:!e,keep_fargs:!1,keep_fnames:!1,hoist_vars:!1,if_return:!e,join_vars:!e,cascade:!e,side_effects:!e,pure_getters:!1,pure_funcs:null,negate_iife:!e,screw_ie8:!1,drop_console:!1,angular:!1,warnings:!0,global_defs:{}},!0))):new U(n,e)}function L(n){function e(e,o,i,a,u,s){if(r){var c=r.originalPositionFor({line:a,column:u});if(null===c.source)return;e=c.source,a=c.line,u=c.column,s=c.name||s}t.addMapping({generated:{line:o+n.dest_line_diff,column:i},original:{line:a+n.orig_line_diff,column:u},source:e,name:s})}n=c(n,{file:null,root:null,orig:null,orig_line_diff:0,dest_line_diff:0});var t,r=n.orig&&new MOZ_SourceMap.SourceMapConsumer(n.orig);return t=r?MOZ_SourceMap.SourceMapGenerator.fromSourceMap(r):new MOZ_SourceMap.SourceMapGenerator({file:n.file,sourceRoot:n.root}),{add:e,get:function(){return t},toString:function(){return JSON.stringify(t.toJSON())}}}function V(){function n(n){p(e,n)}var e=[];return[Object,Array,Function,Number,String,Boolean,Error,Math,Date,RegExp].forEach(function(e){Object.getOwnPropertyNames(e).map(n),e.prototype&&Object.getOwnPropertyNames(e.prototype).map(n)}),e}function W(n,e){function t(n){return s.indexOf(n)>=0?!1:e.only_cache?f.props.has(n):/^[0-9.]+$/.test(n)?!1:!0}function r(n){return l&&!l.test(n)?!1:s.indexOf(n)>=0?!1:f.props.has(n)||d.indexOf(n)>=0}function o(n){t(n)&&p(d,n)}function i(n){var e=f.props.get(n);if(!e){do e=Ge(++f.cname);while(!t(e));f.props.set(n,e)}return e}function a(n){var e={};try{!function r(n){n.walk(new E(function(n){if(n instanceof jn)return r(n.cdr),!0;if(n instanceof me)return o(n.value),!0;if(n instanceof Xn)return r(n.consequent),r(n.alternative),!0;throw e}))}(n)}catch(t){if(t!==e)throw t}}function u(n){return n.transform(new j(function(n){return n instanceof jn?n.cdr=u(n.cdr):n instanceof me?r(n.value)&&(n.value=i(n.value)):n instanceof Xn&&(n.consequent=u(n.consequent),n.alternative=u(n.alternative)),n}))}e=c(e,{reserved:null,cache:null,only_cache:!1,regex:null});var s=e.reserved;null==s&&(s=V());var f=e.cache;null==f&&(f={cname:-1,props:new y});var l=e.regex,d=[];return n.walk(new E(function(n){n instanceof Qn?o(n.key):n instanceof Zn?o(n.key.name):n instanceof In?this.parent()instanceof Gn&&o(n.property):n instanceof Un&&this.parent()instanceof Gn&&a(n.property)})),n.transform(new j(function(n){n instanceof Qn?r(n.key)&&(n.key=i(n.key)):n instanceof Zn?r(n.key.name)&&(n.key.name=i(n.key.name)):n instanceof In?r(n.property)&&(n.property=i(n.property)):n instanceof Un&&(n.property=u(n.property))}))}e.UglifyJS=n,s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s.croak=function(n,e){throw new s(n,e)};var Y=function(){function n(n,i,a){function u(){var u=i(n[s],s),l=u instanceof r;return l&&(u=u.v),u instanceof e?(u=u.v,u instanceof t?f.push.apply(f,a?u.v.slice().reverse():u.v):f.push(u)):u!==o&&(u instanceof t?c.push.apply(c,a?u.v.slice().reverse():u.v):c.push(u)),l}var s,c=[],f=[];if(n instanceof Array)if(a){for(s=n.length;--s>=0&&!u(););c.reverse(),f.reverse()}else for(s=0;s<n.length&&!u();++s);else for(s in n)if(n.hasOwnProperty(s)&&u())break;return f.concat(c)}function e(n){this.v=n}function t(n){this.v=n}function r(n){this.v=n}n.at_top=function(n){return new e(n)},n.splice=function(n){return new t(n)},n.last=function(n){return new r(n)};var o=n.skip={};return n}();y.prototype={set:function(n,e){return this.has(n)||++this._size,this._values["$"+n]=e,this},add:function(n,e){return this.has(n)?this.get(n).push(e):this.set(n,[e]),this},get:function(n){return this._values["$"+n]},del:function(n){return this.has(n)&&(--this._size,delete this._values["$"+n]),this},has:function(n){return"$"+n in this._values},each:function(n){for(var e in this._values)n(this._values[e],e.substr(1))},size:function(){return this._size},map:function(n){var e=[];for(var t in this._values)e.push(n(this._values[t],t.substr(1)));return e},toObject:function(){return this._values}},y.fromObject=function(n){var e=new y;return e._size=f(e._values,n),e};var X=A("Token","type value line col pos endline endcol endpos nlb comments_before file",{},null),G=A("Node","start end",{clone:function(){return new this.CTOR(this)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},_walk:function(n){return n._visit(this)},walk:function(n){return this._walk(n)}},null);G.warn_function=null,G.warn=function(n,e){G.warn_function&&G.warn_function(d(n,e))};var J=A("Statement",null,{$documentation:"Base class of all statements"}),K=A("Debugger",null,{$documentation:"Represents a debugger statement"},J),Z=A("Directive","value scope quote",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",scope:"[AST_Scope/S] The scope that this directive affects",quote:"[string] the original quote character"}},J),Q=A("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},_walk:function(n){return n._visit(this,function(){this.body._walk(n)})}},J),nn=A("Block","body",{$documentation:"A body of statements (usually bracketed)",$propdoc:{body:"[AST_Statement*] an array of statements"},_walk:function(n){return n._visit(this,function(){w(this,n)})}},J),en=A("BlockStatement",null,{$documentation:"A block statement"},nn),tn=A("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)",_walk:function(n){return n._visit(this)}},J),rn=A("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_walk:function(n){return n._visit(this,function(){this.body._walk(n)})}},J),on=A("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},_walk:function(n){return n._visit(this,function(){this.label._walk(n),this.body._walk(n)})}},rn),an=A("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it."},rn),un=A("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"}},an),sn=A("Do",null,{$documentation:"A `do` statement",_walk:function(n){return n._visit(this,function(){this.body._walk(n),this.condition._walk(n)})}},un),cn=A("While",null,{$documentation:"A `while` statement",_walk:function(n){return n._visit(this,function(){this.condition._walk(n),this.body._walk(n)})}},un),fn=A("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},_walk:function(n){return n._visit(this,function(){this.init&&this.init._walk(n),this.condition&&this.condition._walk(n),this.step&&this.step._walk(n),this.body._walk(n)})}},an),ln=A("ForIn","init name object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",name:"[AST_SymbolRef?] the loop variable, only if `init` is AST_Var",object:"[AST_Node] the object that we're looping through"},_walk:function(n){return n._visit(this,function(){this.init._walk(n),this.object._walk(n),this.body._walk(n)})}},an),pn=A("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},_walk:function(n){return n._visit(this,function(){this.expression._walk(n),this.body._walk(n)})}},rn),dn=A("Scope","directives variables functions uses_with uses_eval parent_scope enclosed cname",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{directives:"[string*/S] an array of directives declared in this scope",variables:"[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope",functions:"[Object/S] like `variables`, but only lists function declarations",uses_with:"[boolean/S] tells whether this scope uses the `with` statement",uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",parent_scope:"[AST_Scope?/S] link to the parent scope",enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",cname:"[integer/S] current index for mangling variables (used internally by the mangler)"}},nn),hn=A("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name -> SymbolDef for all undeclared names"},wrap_enclose:function(n){var e=this,t=[],r=[];n.forEach(function(n){var e=n.lastIndexOf(":");t.push(n.substr(0,e)),r.push(n.substr(e+1))});var o="(function("+r.join(",")+"){ '$ORIG'; })("+t.join(",")+")";return o=R(o),o=o.transform(new j(function(n){return n instanceof Z&&"$ORIG"==n.value?Y.splice(e.body):void 0}))},wrap_commonjs:function(n,e){var t=this,r=[];e&&(t.figure_out_scope(),t.walk(new E(function(n){n instanceof oe&&n.definition().global&&(a(function(e){return e.name==n.name},r)||r.push(n))})));var o="(function(exports, global){ global['"+n+"'] = exports; '$ORIG'; '$EXPORTS'; }({}, (function(){return this}())))";return o=R(o),o=o.transform(new j(function(n){if(n instanceof Q&&(n=n.body,n instanceof me))switch(n.getValue()){case"$ORIG":return Y.splice(t.body);case"$EXPORTS":var e=[];return r.forEach(function(n){e.push(new Q({body:new Gn({left:new Un({expression:new pe({name:"exports"}),property:new me({value:n.name})}),operator:"=",right:new pe(n)})}))}),Y.splice(e)}}))}},dn),_n=A("Lambda","name argnames uses_arguments",{$documentation:"Base class for functions",$propdoc:{name:"[AST_SymbolDeclaration?] the name of this function",argnames:"[AST_SymbolFunarg*] array of function arguments",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array"},_walk:function(n){return n._visit(this,function(){this.name&&this.name._walk(n),this.argnames.forEach(function(e){e._walk(n)}),w(this,n)})}},dn),mn=A("Accessor",null,{
$documentation:"A setter/getter function.  The `name` property is always null."},_n),vn=A("Function",null,{$documentation:"A function expression"},_n),gn=A("Defun",null,{$documentation:"A function definition"},_n),bn=A("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},J),yn=A("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},_walk:function(n){return n._visit(this,this.value&&function(){this.value._walk(n)})}},bn),An=A("Return",null,{$documentation:"A `return` statement"},yn),wn=A("Throw",null,{$documentation:"A `throw` statement"},yn),En=A("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},_walk:function(n){return n._visit(this,this.label&&function(){this.label._walk(n)})}},bn),Dn=A("Break",null,{$documentation:"A `break` statement"},En),Fn=A("Continue",null,{$documentation:"A `continue` statement"},En),Cn=A("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},_walk:function(n){return n._visit(this,function(){this.condition._walk(n),this.body._walk(n),this.alternative&&this.alternative._walk(n)})}},rn),Sn=A("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},_walk:function(n){return n._visit(this,function(){this.expression._walk(n),w(this,n)})}},nn),kn=A("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},nn),Bn=A("Default",null,{$documentation:"A `default` switch branch"},kn),xn=A("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},_walk:function(n){return n._visit(this,function(){this.expression._walk(n),w(this,n)})}},kn),Tn=A("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},_walk:function(n){return n._visit(this,function(){w(this,n),this.bcatch&&this.bcatch._walk(n),this.bfinally&&this.bfinally._walk(n)})}},nn),On=A("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[AST_SymbolCatch] symbol for the exception"},_walk:function(n){return n._visit(this,function(){this.argname._walk(n),w(this,n)})}},nn),$n=A("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},nn),Mn=A("Definitions","definitions",{$documentation:"Base class for `var` or `const` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},_walk:function(n){return n._visit(this,function(){this.definitions.forEach(function(e){e._walk(n)})})}},J),qn=A("Var",null,{$documentation:"A `var` statement"},Mn),Nn=A("Const",null,{$documentation:"A `const` statement"},Mn),zn=A("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_SymbolVar|AST_SymbolConst] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},_walk:function(n){return n._visit(this,function(){this.name._walk(n),this.value&&this.value._walk(n)})}}),Hn=A("Call","expression args",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments"},_walk:function(n){return n._visit(this,function(){this.expression._walk(n),this.args.forEach(function(e){e._walk(n)})})}}),Rn=A("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},Hn),jn=A("Seq","car cdr",{$documentation:"A sequence expression (two comma-separated expressions)",$propdoc:{car:"[AST_Node] first element in sequence",cdr:"[AST_Node] second element in sequence"},$cons:function(n,e){var t=new jn(n);return t.car=n,t.cdr=e,t},$from_array:function(n){if(0==n.length)return null;if(1==n.length)return n[0].clone();for(var e=null,t=n.length;--t>=0;)e=jn.cons(n[t],e);for(var r=e;r;){if(r.cdr&&!r.cdr.cdr){r.cdr=r.cdr.car;break}r=r.cdr}return e},to_array:function(){for(var n=this,e=[];n;){if(e.push(n.car),n.cdr&&!(n.cdr instanceof jn)){e.push(n.cdr);break}n=n.cdr}return e},add:function(n){for(var e=this;e;){if(!(e.cdr instanceof jn)){var t=jn.cons(e.cdr,n);return e.cdr=t}e=e.cdr}},_walk:function(n){return n._visit(this,function(){this.car._walk(n),this.cdr&&this.cdr._walk(n)})}}),Pn=A("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"}}),In=A("Dot",null,{$documentation:"A dotted property access expression",_walk:function(n){return n._visit(this,function(){this.expression._walk(n)})}},Pn),Un=A("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',_walk:function(n){return n._visit(this,function(){this.expression._walk(n),this.property._walk(n)})}},Pn),Ln=A("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},_walk:function(n){return n._visit(this,function(){this.expression._walk(n)})}}),Vn=A("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},Ln),Wn=A("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},Ln),Yn=A("Binary","left operator right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},_walk:function(n){return n._visit(this,function(){this.left._walk(n),this.right._walk(n)})}}),Xn=A("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},_walk:function(n){return n._visit(this,function(){this.condition._walk(n),this.consequent._walk(n),this.alternative._walk(n)})}}),Gn=A("Assign",null,{$documentation:"An assignment expression — `a = b + 5`"},Yn),Jn=A("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},_walk:function(n){return n._visit(this,function(){this.elements.forEach(function(e){e._walk(n)})})}}),Kn=A("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[AST_ObjectProperty*] array of properties"},_walk:function(n){return n._visit(this,function(){this.properties.forEach(function(e){e._walk(n)})})}}),Zn=A("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string] the property name converted to a string for ObjectKeyVal.  For setters and getters this is an arbitrary AST_Node.",value:"[AST_Node] property value.  For setters and getters this is an AST_Function."},_walk:function(n){return n._visit(this,function(){this.value._walk(n)})}}),Qn=A("ObjectKeyVal","quote",{$documentation:"A key: value object property",$propdoc:{quote:"[string] the original quote character"}},Zn),ne=A("ObjectSetter",null,{$documentation:"An object setter property"},Zn),ee=A("ObjectGetter",null,{$documentation:"An object getter property"},Zn),te=A("Symbol","scope name thedef",{$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},$documentation:"Base class for all symbols"}),re=A("SymbolAccessor",null,{$documentation:"The name of a property accessor (setter/getter function)"},te),oe=A("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var/const, function name or argument, symbol in catch)",$propdoc:{init:"[AST_Node*/S] array of initializers for this declaration."}},te),ie=A("SymbolVar",null,{$documentation:"Symbol defining a variable"},oe),ae=A("SymbolConst",null,{$documentation:"A constant declaration"},oe),ue=A("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},ie),se=A("SymbolDefun",null,{$documentation:"Symbol defining a function"},oe),ce=A("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},oe),fe=A("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},oe),le=A("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},te),pe=A("SymbolRef",null,{$documentation:"Reference to some symbol (not definition/declaration)"},te),de=A("LabelRef",null,{$documentation:"Reference to a label symbol"},te),he=A("This",null,{$documentation:"The `this` symbol"},te),_e=A("Constant",null,{$documentation:"Base class for all constants",getValue:function(){return this.value}}),me=A("String","value quote",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string",quote:"[string] the original quote character"}},_e),ve=A("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"}},_e),ge=A("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"}},_e),be=A("Atom",null,{$documentation:"Base class for atoms"},_e),ye=A("Null",null,{$documentation:"The `null` atom",value:null},be),Ae=A("NaN",null,{$documentation:"The impossible value",value:NaN},be),we=A("Undefined",null,{$documentation:"The `undefined` value",value:void 0},be),Ee=A("Hole",null,{$documentation:"A hole in an array",value:void 0},be),De=A("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},be),Fe=A("Boolean",null,{$documentation:"Base class for booleans"},be),Ce=A("False",null,{$documentation:"The `false` atom",value:!1},Fe),Se=A("True",null,{$documentation:"The `true` atom",value:!0},Fe);E.prototype={_visit:function(n,e){this.stack.push(n);var t=this.visit(n,e?function(){e.call(n)}:l);return!t&&e&&e.call(n),this.stack.pop(),t},parent:function(n){return this.stack[this.stack.length-2-(n||0)]},push:function(n){this.stack.push(n)},pop:function(){return this.stack.pop()},self:function(){return this.stack[this.stack.length-1]},find_parent:function(n){for(var e=this.stack,t=e.length;--t>=0;){var r=e[t];if(r instanceof n)return r}},has_directive:function(n){return this.find_parent(dn).has_directive(n)},in_boolean_context:function(){for(var n=this.stack,e=n.length,t=n[--e];e>0;){var r=n[--e];if(r instanceof Cn&&r.condition===t||r instanceof Xn&&r.condition===t||r instanceof un&&r.condition===t||r instanceof fn&&r.condition===t||r instanceof Vn&&"!"==r.operator&&r.expression===t)return!0;if(!(r instanceof Yn)||"&&"!=r.operator&&"||"!=r.operator)return!1;t=r}},loopcontrol_target:function(n){var e=this.stack;if(n)for(var t=e.length;--t>=0;){var r=e[t];if(r instanceof on&&r.label.name==n.name)return r.body}else for(var t=e.length;--t>=0;){var r=e[t];if(r instanceof Sn||r instanceof an)return r}}};var ke="break case catch const continue debugger default delete do else finally for function if in instanceof new return switch throw try typeof var void while with",Be="false null true",xe="abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized this throws transient volatile yield "+Be+" "+ke,Te="return new delete throw else case";ke=g(ke),xe=g(xe),Te=g(Te),Be=g(Be);var Oe=g(o("+-*&%=<>!?|~^")),$e=/^0x[0-9a-f]+$/i,Me=/^0[0-7]+$/,qe=/^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i,Ne=g(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]),ze=g(o("  \n\r	\f​᠎             　\ufeff")),He=g(o("[{(,.;:")),Re=g(o("[]{}(),;:")),je=g(o("gmsiy")),Pe={letter:new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),digit:new RegExp("[\\u0030-\\u0039\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]"),non_spacing_mark:new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),space_combining_mark:new RegExp("[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"),connector_punctuation:new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]")};q.prototype.toString=function(){return this.message+" (line: "+this.line+", col: "+this.col+", pos: "+this.pos+")\n\n"+this.stack};var Ie={},Ue=g(["typeof","void","delete","--","++","!","~","-","+"]),Le=g(["--","++"]),Ve=g(["=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&="]),We=function(n,e){for(var t=0;t<n.length;++t)for(var r=n[t],o=0;o<r.length;++o)e[r[o]]=t+1;return e}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{}),Ye=t(["for","do","while","switch"]),Xe=t(["atom","num","string","regexp","name"]);j.prototype=new E,function(n){function e(e,t){e.DEFMETHOD("transform",function(e,r){var o,i;return e.push(this),e.before&&(o=e.before(this,t,r)),o===n&&(e.after?(e.stack[e.stack.length-1]=o=this.clone(),t(o,e),i=e.after(o,r),i!==n&&(o=i)):(o=this,t(o,e))),e.pop(),o})}function t(n,e){return Y(n,function(n){return n.transform(e,!0)})}e(G,l),e(on,function(n,e){n.label=n.label.transform(e),n.body=n.body.transform(e)}),e(Q,function(n,e){n.body=n.body.transform(e)}),e(nn,function(n,e){n.body=t(n.body,e)}),e(un,function(n,e){n.condition=n.condition.transform(e),n.body=n.body.transform(e)}),e(fn,function(n,e){n.init&&(n.init=n.init.transform(e)),n.condition&&(n.condition=n.condition.transform(e)),n.step&&(n.step=n.step.transform(e)),n.body=n.body.transform(e)}),e(ln,function(n,e){n.init=n.init.transform(e),n.object=n.object.transform(e),n.body=n.body.transform(e)}),e(pn,function(n,e){n.expression=n.expression.transform(e),n.body=n.body.transform(e)}),e(yn,function(n,e){n.value&&(n.value=n.value.transform(e))}),e(En,function(n,e){n.label&&(n.label=n.label.transform(e))}),e(Cn,function(n,e){n.condition=n.condition.transform(e),n.body=n.body.transform(e),n.alternative&&(n.alternative=n.alternative.transform(e))}),e(Sn,function(n,e){n.expression=n.expression.transform(e),n.body=t(n.body,e)}),e(xn,function(n,e){n.expression=n.expression.transform(e),n.body=t(n.body,e)}),e(Tn,function(n,e){n.body=t(n.body,e),n.bcatch&&(n.bcatch=n.bcatch.transform(e)),n.bfinally&&(n.bfinally=n.bfinally.transform(e))}),e(On,function(n,e){n.argname=n.argname.transform(e),n.body=t(n.body,e)}),e(Mn,function(n,e){n.definitions=t(n.definitions,e)}),e(zn,function(n,e){n.name=n.name.transform(e),n.value&&(n.value=n.value.transform(e))}),e(_n,function(n,e){n.name&&(n.name=n.name.transform(e)),n.argnames=t(n.argnames,e),n.body=t(n.body,e)}),e(Hn,function(n,e){n.expression=n.expression.transform(e),n.args=t(n.args,e)}),e(jn,function(n,e){n.car=n.car.transform(e),n.cdr=n.cdr.transform(e)}),e(In,function(n,e){n.expression=n.expression.transform(e)}),e(Un,function(n,e){n.expression=n.expression.transform(e),n.property=n.property.transform(e)}),e(Ln,function(n,e){n.expression=n.expression.transform(e)}),e(Yn,function(n,e){n.left=n.left.transform(e),n.right=n.right.transform(e)}),e(Xn,function(n,e){n.condition=n.condition.transform(e),n.consequent=n.consequent.transform(e),n.alternative=n.alternative.transform(e)}),e(Jn,function(n,e){n.elements=t(n.elements,e)}),e(Kn,function(n,e){n.properties=t(n.properties,e)}),e(Zn,function(n,e){n.value=n.value.transform(e)})}(),P.prototype={unmangleable:function(n){return n||(n={}),this.global&&!n.toplevel||this.undeclared||!n.eval&&(this.scope.uses_eval||this.scope.uses_with)||n.keep_fnames&&(this.orig[0]instanceof ce||this.orig[0]instanceof se)},mangle:function(n){var e=n.cache&&n.cache.props;if(this.global&&e&&e.has(this.name))this.mangled_name=e.get(this.name);else if(!this.mangled_name&&!this.unmangleable(n)){var t=this.scope;!n.screw_ie8&&this.orig[0]instanceof ce&&(t=t.parent_scope),this.mangled_name=t.next_mangled(n,this),this.global&&e&&e.set(this.name,this.mangled_name)}}},hn.DEFMETHOD("figure_out_scope",function(n){n=c(n,{screw_ie8:!1,cache:null});var e=this,t=e.parent_scope=null,r=null,o=0,i=new E(function(e,a){if(n.screw_ie8&&e instanceof On){var u=t;return t=new dn(e),t.init_scope_vars(o),t.parent_scope=u,a(),t=u,!0}if(e instanceof dn){e.init_scope_vars(o);var u=e.parent_scope=t,s=r;return r=t=e,++o,a(),--o,t=u,r=s,!0}if(e instanceof Z)return e.scope=t,p(t.directives,e.value),!0;if(e instanceof pn)for(var c=t;c;c=c.parent_scope)c.uses_with=!0;else if(e instanceof te&&(e.scope=t),e instanceof ce)r.def_function(e);else if(e instanceof se)(e.scope=r.parent_scope).def_function(e);else if(e instanceof ie||e instanceof ae){var f=r.def_variable(e);f.constant=e instanceof ae,f.init=i.parent().value}else e instanceof fe&&(n.screw_ie8?t:r).def_variable(e)});e.walk(i);var a=null,u=e.globals=new y,i=new E(function(n,t){if(n instanceof _n){var r=a;return a=n,t(),a=r,!0}if(n instanceof pe){var o=n.name,s=n.scope.find_variable(o);if(s)n.thedef=s;else{var c;if(u.has(o)?c=u.get(o):(c=new P(e,u.size(),n),c.undeclared=!0,c.global=!0,u.set(o,c)),n.thedef=c,"eval"==o&&i.parent()instanceof Hn)for(var f=n.scope;f&&!f.uses_eval;f=f.parent_scope)f.uses_eval=!0;a&&"arguments"==o&&(a.uses_arguments=!0)}return n.reference(),!0}});e.walk(i),n.cache&&(this.cname=n.cache.cname)}),dn.DEFMETHOD("init_scope_vars",function(n){this.directives=[],this.variables=new y,this.functions=new y,this.uses_with=!1,this.uses_eval=!1,this.parent_scope=null,this.enclosed=[],this.cname=-1,this.nesting=n}),dn.DEFMETHOD("strict",function(){return this.has_directive("use strict")}),_n.DEFMETHOD("init_scope_vars",function(){dn.prototype.init_scope_vars.apply(this,arguments),this.uses_arguments=!1}),pe.DEFMETHOD("reference",function(){var n=this.definition();n.references.push(this);for(var e=this.scope;e&&(p(e.enclosed,n),e!==n.scope);)e=e.parent_scope;this.frame=this.scope.nesting-n.scope.nesting}),dn.DEFMETHOD("find_variable",function(n){return n instanceof te&&(n=n.name),this.variables.get(n)||this.parent_scope&&this.parent_scope.find_variable(n)}),dn.DEFMETHOD("has_directive",function(n){return this.parent_scope&&this.parent_scope.has_directive(n)||(this.directives.indexOf(n)>=0?this:null)}),dn.DEFMETHOD("def_function",function(n){this.functions.set(n.name,this.def_variable(n))}),dn.DEFMETHOD("def_variable",function(n){var e;return this.variables.has(n.name)?(e=this.variables.get(n.name),e.orig.push(n)):(e=new P(this,this.variables.size(),n),this.variables.set(n.name,e),e.global=!this.parent_scope),n.thedef=e}),dn.DEFMETHOD("next_mangled",function(n){var e=this.enclosed;n:for(;;){var t=Ge(++this.cname);if(x(t)&&!(n.except.indexOf(t)>=0)){for(var r=e.length;--r>=0;){var o=e[r],i=o.mangled_name||o.unmangleable(n)&&o.name;if(t==i)continue n}return t}}}),vn.DEFMETHOD("next_mangled",function(n,e){for(var t=e.orig[0]instanceof ue&&this.name&&this.name.definition();;){var r=_n.prototype.next_mangled.call(this,n,e);if(!t||t.mangled_name!=r)return r}}),dn.DEFMETHOD("references",function(n){return n instanceof te&&(n=n.definition()),this.enclosed.indexOf(n)<0?null:n}),te.DEFMETHOD("unmangleable",function(n){return this.definition().unmangleable(n)}),re.DEFMETHOD("unmangleable",function(){return!0}),le.DEFMETHOD("unmangleable",function(){return!1}),te.DEFMETHOD("unreferenced",function(){return 0==this.definition().references.length&&!(this.scope.uses_eval||this.scope.uses_with)}),te.DEFMETHOD("undeclared",function(){return this.definition().undeclared}),de.DEFMETHOD("undeclared",function(){return!1}),le.DEFMETHOD("undeclared",function(){return!1}),te.DEFMETHOD("definition",function(){return this.thedef}),te.DEFMETHOD("global",function(){return this.definition().global}),hn.DEFMETHOD("_default_mangler_options",function(n){return c(n,{except:[],eval:!1,sort:!1,toplevel:!1,screw_ie8:!1,keep_fnames:!1})}),hn.DEFMETHOD("mangle_names",function(n){n=this._default_mangler_options(n);var e=-1,t=[];n.cache&&this.globals.each(function(e){n.except.indexOf(e.name)<0&&t.push(e)});var r=new E(function(o,i){if(o instanceof on){var a=e;return i(),e=a,!0}if(o instanceof dn){var u=(r.parent(),[]);return o.variables.each(function(e){n.except.indexOf(e.name)<0&&u.push(e)}),n.sort&&u.sort(function(n,e){return e.references.length-n.references.length}),void t.push.apply(t,u)}if(o instanceof le){var s;do s=Ge(++e);while(!x(s));return o.mangled_name=s,!0}return n.screw_ie8&&o instanceof fe?void t.push(o.definition()):void 0});this.walk(r),t.forEach(function(e){e.mangle(n)}),n.cache&&(n.cache.cname=this.cname)}),hn.DEFMETHOD("compute_char_frequency",function(n){n=this._default_mangler_options(n);var e=new E(function(e){e instanceof _e?Ge.consider(e.print_to_string()):e instanceof An?Ge.consider("return"):e instanceof wn?Ge.consider("throw"):e instanceof Fn?Ge.consider("continue"):e instanceof Dn?Ge.consider("break"):e instanceof K?Ge.consider("debugger"):e instanceof Z?Ge.consider(e.value):e instanceof cn?Ge.consider("while"):e instanceof sn?Ge.consider("do while"):e instanceof Cn?(Ge.consider("if"),e.alternative&&Ge.consider("else")):e instanceof qn?Ge.consider("var"):e instanceof Nn?Ge.consider("const"):e instanceof _n?Ge.consider("function"):e instanceof fn?Ge.consider("for"):e instanceof ln?Ge.consider("for in"):e instanceof Sn?Ge.consider("switch"):e instanceof xn?Ge.consider("case"):e instanceof Bn?Ge.consider("default"):e instanceof pn?Ge.consider("with"):e instanceof ne?Ge.consider("set"+e.key):e instanceof ee?Ge.consider("get"+e.key):e instanceof Qn?Ge.consider(e.key):e instanceof Rn?Ge.consider("new"):e instanceof he?Ge.consider("this"):e instanceof Tn?Ge.consider("try"):e instanceof On?Ge.consider("catch"):e instanceof $n?Ge.consider("finally"):e instanceof te&&e.unmangleable(n)?Ge.consider(e.name):e instanceof Ln||e instanceof Yn?Ge.consider(e.operator):e instanceof In&&Ge.consider(e.property)});this.walk(e),Ge.sort()});var Ge=function(){function n(){r=Object.create(null),t=o.split("").map(function(n){return n.charCodeAt(0)}),t.forEach(function(n){r[n]=0})}function e(n){var e="",r=54;n++;do n--,e+=String.fromCharCode(t[n%r]),n=Math.floor(n/r),r=64;while(n>0);return e}var t,r,o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_0123456789";return e.consider=function(n){for(var e=n.length;--e>=0;){var t=n.charCodeAt(e);t in r&&++r[t]}},e.sort=function(){t=_(t,function(n,e){return F(n)&&!F(e)?1:F(e)&&!F(n)?-1:r[e]-r[n]})},e.reset=n,n(),e.get=function(){return t},e.freq=function(){return r},e}();hn.DEFMETHOD("scope_warnings",function(n){n=c(n,{undeclared:!1,unreferenced:!0,assign_to_global:!0,func_arguments:!0,nested_defuns:!0,eval:!0});var e=new E(function(t){if(n.undeclared&&t instanceof pe&&t.undeclared()&&G.warn("Undeclared symbol: {name} [{file}:{line},{col}]",{
name:t.name,file:t.start.file,line:t.start.line,col:t.start.col}),n.assign_to_global){var r=null;t instanceof Gn&&t.left instanceof pe?r=t.left:t instanceof ln&&t.init instanceof pe&&(r=t.init),r&&(r.undeclared()||r.global()&&r.scope!==r.definition().scope)&&G.warn("{msg}: {name} [{file}:{line},{col}]",{msg:r.undeclared()?"Accidental global?":"Assignment to global",name:r.name,file:r.start.file,line:r.start.line,col:r.start.col})}n.eval&&t instanceof pe&&t.undeclared()&&"eval"==t.name&&G.warn("Eval is used [{file}:{line},{col}]",t.start),n.unreferenced&&(t instanceof oe||t instanceof le)&&!(t instanceof fe)&&t.unreferenced()&&G.warn("{type} {name} is declared but not referenced [{file}:{line},{col}]",{type:t instanceof le?"Label":"Symbol",name:t.name,file:t.start.file,line:t.start.line,col:t.start.col}),n.func_arguments&&t instanceof _n&&t.uses_arguments&&G.warn("arguments used in function {name} [{file}:{line},{col}]",{name:t.name?t.name.name:"anonymous",file:t.start.file,line:t.start.line,col:t.start.col}),n.nested_defuns&&t instanceof gn&&!(e.parent()instanceof dn)&&G.warn('Function {name} declared in nested statement "{type}" [{file}:{line},{col}]',{name:t.name.name,type:e.parent().TYPE,file:t.start.file,line:t.start.line,col:t.start.col})});this.walk(e)}),function(){function n(n,e){n.DEFMETHOD("_codegen",e)}function e(n,t){Array.isArray(n)?n.forEach(function(n){e(n,t)}):n.DEFMETHOD("needs_parens",t)}function t(n,e,t){var r=n.length-1;n.forEach(function(n,o){n instanceof tn||(t.indent(),n.print(t),o==r&&e||(t.newline(),e&&t.newline()))})}function r(n,e){n.length>0?e.with_block(function(){t(n,!1,e)}):e.print("{}")}function o(n,e){if(e.option("bracketize"))return void d(n.body,e);if(!n.body)return e.force_semicolon();if(n.body instanceof sn&&!e.option("screw_ie8"))return void d(n.body,e);for(var t=n.body;;)if(t instanceof Cn){if(!t.alternative)return void d(n.body,e);t=t.alternative}else{if(!(t instanceof rn))break;t=t.body}u(n.body,e)}function i(n,e,t){if(t)try{n.walk(new E(function(n){if(n instanceof Yn&&"in"==n.operator)throw e})),n.print(e)}catch(r){if(r!==e)throw r;n.print(e,!0)}else n.print(e)}function a(n){return[92,47,46,43,42,63,40,41,91,93,123,125,36,94,58,124,33,10,13,0,65279,8232,8233].indexOf(n)<0}function u(n,e){e.option("bracketize")?!n||n instanceof tn?e.print("{}"):n instanceof en?n.print(e):e.with_block(function(){e.indent(),n.print(e),e.newline()}):!n||n instanceof tn?e.force_semicolon():n.print(e)}function s(n){for(var e=n.stack(),t=e.length,r=e[--t],o=e[--t];t>0;){if(o instanceof J&&o.body===r)return!0;if(!(o instanceof jn&&o.car===r||o instanceof Hn&&o.expression===r&&!(o instanceof Rn)||o instanceof In&&o.expression===r||o instanceof Un&&o.expression===r||o instanceof Xn&&o.condition===r||o instanceof Yn&&o.left===r||o instanceof Wn&&o.expression===r))return!1;r=o,o=e[--t]}}function c(n,e){return 0==n.args.length&&!e.option("beautify")}function f(n){for(var e=n[0],t=e.length,r=1;r<n.length;++r)n[r].length<t&&(e=n[r],t=e.length);return e}function p(n){var e,t=n.toString(10),r=[t.replace(/^0\./,".").replace("e+","e")];return Math.floor(n)===n?(n>=0?r.push("0x"+n.toString(16).toLowerCase(),"0"+n.toString(8)):r.push("-0x"+(-n).toString(16).toLowerCase(),"-0"+(-n).toString(8)),(e=/^(.*?)(0+)$/.exec(n))&&r.push(e[1]+"e"+e[2].length)):(e=/^0?\.(0+)(.*)$/.exec(n))&&r.push(e[2]+"e-"+(e[1].length+e[2].length),t.substr(t.indexOf("."))),f(r)}function d(n,e){return n instanceof en?void n.print(e):void e.with_block(function(){e.indent(),n.print(e),e.newline()})}function h(n,e){n.DEFMETHOD("add_source_map",function(n){e(this,n)})}function _(n,e){e.add_mapping(n.start)}G.DEFMETHOD("print",function(n,e){function t(){r.add_comments(n),r.add_source_map(n),o(r,n)}var r=this,o=r._codegen;n.push_node(r),e||r.needs_parens(n)?n.with_parens(t):t(),n.pop_node()}),G.DEFMETHOD("print_to_string",function(n){var e=I(n);return this.print(e),e.get()}),G.DEFMETHOD("add_comments",function(n){var e=n.option("comments"),t=this;if(e){var r=t.start;if(r&&!r._comments_dumped){r._comments_dumped=!0;var o=r.comments_before||[];t instanceof yn&&t.value&&t.value.walk(new E(function(n){return n.start&&n.start.comments_before&&(o=o.concat(n.start.comments_before),n.start.comments_before=[]),n instanceof vn||n instanceof Jn||n instanceof Kn?!0:void 0})),e.test?o=o.filter(function(n){return e.test(n.value)}):"function"==typeof e&&(o=o.filter(function(n){return e(t,n)})),!n.option("beautify")&&o.length>0&&/comment[134]/.test(o[0].type)&&0!==n.col()&&o[0].nlb&&n.print("\n"),o.forEach(function(e){/comment[134]/.test(e.type)?(n.print("//"+e.value+"\n"),n.indent()):"comment2"==e.type&&(n.print("/*"+e.value+"*/"),r.nlb?(n.print("\n"),n.indent()):n.space())})}}}),e(G,function(){return!1}),e(vn,function(n){return s(n)}),e(Kn,function(n){return s(n)}),e([Ln,we],function(n){var e=n.parent();return e instanceof Pn&&e.expression===this}),e(jn,function(n){var e=n.parent();return e instanceof Hn||e instanceof Ln||e instanceof Yn||e instanceof zn||e instanceof Pn||e instanceof Jn||e instanceof Zn||e instanceof Xn}),e(Yn,function(n){var e=n.parent();if(e instanceof Hn&&e.expression===this)return!0;if(e instanceof Ln)return!0;if(e instanceof Pn&&e.expression===this)return!0;if(e instanceof Yn){var t=e.operator,r=We[t],o=this.operator,i=We[o];if(r>i||r==i&&this===e.right)return!0}}),e(Pn,function(n){var e=n.parent();if(e instanceof Rn&&e.expression===this)try{this.walk(new E(function(n){if(n instanceof Hn)throw e}))}catch(t){if(t!==e)throw t;return!0}}),e(Hn,function(n){var e,t=n.parent();return t instanceof Rn&&t.expression===this?!0:this.expression instanceof vn&&t instanceof Pn&&t.expression===this&&(e=n.parent(1))instanceof Gn&&e.left===t}),e(Rn,function(n){var e=n.parent();return c(this,n)&&(e instanceof Pn||e instanceof Hn&&e.expression===this)?!0:void 0}),e(ve,function(n){var e=n.parent();return this.getValue()<0&&e instanceof Pn&&e.expression===this?!0:void 0}),e([Gn,Xn],function(n){var e=n.parent();return e instanceof Ln?!0:e instanceof Yn&&!(e instanceof Gn)?!0:e instanceof Hn&&e.expression===this?!0:e instanceof Xn&&e.condition===this?!0:e instanceof Pn&&e.expression===this?!0:void 0}),n(Z,function(n,e){e.print_string(n.value,n.quote),e.semicolon()}),n(K,function(n,e){e.print("debugger"),e.semicolon()}),rn.DEFMETHOD("_do_print_body",function(n){u(this.body,n)}),n(J,function(n,e){n.body.print(e),e.semicolon()}),n(hn,function(n,e){t(n.body,!0,e),e.print("")}),n(on,function(n,e){n.label.print(e),e.colon(),n.body.print(e)}),n(Q,function(n,e){n.body.print(e),e.semicolon()}),n(en,function(n,e){r(n.body,e)}),n(tn,function(n,e){e.semicolon()}),n(sn,function(n,e){e.print("do"),e.space(),n._do_print_body(e),e.space(),e.print("while"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.semicolon()}),n(cn,function(n,e){e.print("while"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.space(),n._do_print_body(e)}),n(fn,function(n,e){e.print("for"),e.space(),e.with_parens(function(){!n.init||n.init instanceof tn?e.print(";"):(n.init instanceof Mn?n.init.print(e):i(n.init,e,!0),e.print(";"),e.space()),n.condition?(n.condition.print(e),e.print(";"),e.space()):e.print(";"),n.step&&n.step.print(e)}),e.space(),n._do_print_body(e)}),n(ln,function(n,e){e.print("for"),e.space(),e.with_parens(function(){n.init.print(e),e.space(),e.print("in"),e.space(),n.object.print(e)}),e.space(),n._do_print_body(e)}),n(pn,function(n,e){e.print("with"),e.space(),e.with_parens(function(){n.expression.print(e)}),e.space(),n._do_print_body(e)}),_n.DEFMETHOD("_do_print",function(n,e){var t=this;e||n.print("function"),t.name&&(n.space(),t.name.print(n)),n.with_parens(function(){t.argnames.forEach(function(e,t){t&&n.comma(),e.print(n)})}),n.space(),r(t.body,n)}),n(_n,function(n,e){n._do_print(e)}),yn.DEFMETHOD("_do_print",function(n,e){n.print(e),this.value&&(n.space(),this.value.print(n)),n.semicolon()}),n(An,function(n,e){n._do_print(e,"return")}),n(wn,function(n,e){n._do_print(e,"throw")}),En.DEFMETHOD("_do_print",function(n,e){n.print(e),this.label&&(n.space(),this.label.print(n)),n.semicolon()}),n(Dn,function(n,e){n._do_print(e,"break")}),n(Fn,function(n,e){n._do_print(e,"continue")}),n(Cn,function(n,e){e.print("if"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.space(),n.alternative?(o(n,e),e.space(),e.print("else"),e.space(),u(n.alternative,e)):n._do_print_body(e)}),n(Sn,function(n,e){e.print("switch"),e.space(),e.with_parens(function(){n.expression.print(e)}),e.space(),n.body.length>0?e.with_block(function(){n.body.forEach(function(n,t){t&&e.newline(),e.indent(!0),n.print(e)})}):e.print("{}")}),kn.DEFMETHOD("_do_print_body",function(n){this.body.length>0&&(n.newline(),this.body.forEach(function(e){n.indent(),e.print(n),n.newline()}))}),n(Bn,function(n,e){e.print("default:"),n._do_print_body(e)}),n(xn,function(n,e){e.print("case"),e.space(),n.expression.print(e),e.print(":"),n._do_print_body(e)}),n(Tn,function(n,e){e.print("try"),e.space(),r(n.body,e),n.bcatch&&(e.space(),n.bcatch.print(e)),n.bfinally&&(e.space(),n.bfinally.print(e))}),n(On,function(n,e){e.print("catch"),e.space(),e.with_parens(function(){n.argname.print(e)}),e.space(),r(n.body,e)}),n($n,function(n,e){e.print("finally"),e.space(),r(n.body,e)}),Mn.DEFMETHOD("_do_print",function(n,e){n.print(e),n.space(),this.definitions.forEach(function(e,t){t&&n.comma(),e.print(n)});var t=n.parent(),r=t instanceof fn||t instanceof ln,o=r&&t.init===this;o||n.semicolon()}),n(qn,function(n,e){n._do_print(e,"var")}),n(Nn,function(n,e){n._do_print(e,"const")}),n(zn,function(n,e){if(n.name.print(e),n.value){e.space(),e.print("="),e.space();var t=e.parent(1),r=t instanceof fn||t instanceof ln;i(n.value,e,r)}}),n(Hn,function(n,e){n.expression.print(e),n instanceof Rn&&c(n,e)||e.with_parens(function(){n.args.forEach(function(n,t){t&&e.comma(),n.print(e)})})}),n(Rn,function(n,e){e.print("new"),e.space(),Hn.prototype._codegen(n,e)}),jn.DEFMETHOD("_do_print",function(n){this.car.print(n),this.cdr&&(n.comma(),n.should_break()&&(n.newline(),n.indent()),this.cdr.print(n))}),n(jn,function(n,e){n._do_print(e)}),n(In,function(n,e){var t=n.expression;t.print(e),t instanceof ve&&t.getValue()>=0&&(/[xa-f.]/i.test(e.last())||e.print(".")),e.print("."),e.add_mapping(n.end),e.print_name(n.property)}),n(Un,function(n,e){n.expression.print(e),e.print("["),n.property.print(e),e.print("]")}),n(Vn,function(n,e){var t=n.operator;e.print(t),(/^[a-z]/i.test(t)||/[+-]$/.test(t)&&n.expression instanceof Vn&&/^[+-]/.test(n.expression.operator))&&e.space(),n.expression.print(e)}),n(Wn,function(n,e){n.expression.print(e),e.print(n.operator)}),n(Yn,function(n,e){n.left.print(e),e.space(),e.print(n.operator),"<"==n.operator&&n.right instanceof Vn&&"!"==n.right.operator&&n.right.expression instanceof Vn&&"--"==n.right.expression.operator?e.print(" "):e.space(),n.right.print(e)}),n(Xn,function(n,e){n.condition.print(e),e.space(),e.print("?"),e.space(),n.consequent.print(e),e.space(),e.colon(),n.alternative.print(e)}),n(Jn,function(n,e){e.with_square(function(){var t=n.elements,r=t.length;r>0&&e.space(),t.forEach(function(n,t){t&&e.comma(),n.print(e),t===r-1&&n instanceof Ee&&e.comma()}),r>0&&e.space()})}),n(Kn,function(n,e){n.properties.length>0?e.with_block(function(){n.properties.forEach(function(n,t){t&&(e.print(","),e.newline()),e.indent(),n.print(e)}),e.newline()}):e.print("{}")}),n(Qn,function(n,e){var t=n.key,r=n.quote;e.option("quote_keys")?e.print_string(t+""):("number"==typeof t||!e.option("beautify")&&+t+""==t)&&parseFloat(t)>=0?e.print(p(t)):(xe(t)?e.option("screw_ie8"):$(t))?e.print_name(t):e.print_string(t,r),e.colon(),n.value.print(e)}),n(ne,function(n,e){e.print("set"),e.space(),n.key.print(e),n.value._do_print(e,!0)}),n(ee,function(n,e){e.print("get"),e.space(),n.key.print(e),n.value._do_print(e,!0)}),n(te,function(n,e){var t=n.definition();e.print_name(t?t.mangled_name||t.name:n.name)}),n(we,function(n,e){e.print("void 0")}),n(Ee,l),n(De,function(n,e){e.print("Infinity")}),n(Ae,function(n,e){e.print("NaN")}),n(he,function(n,e){e.print("this")}),n(_e,function(n,e){e.print(n.getValue())}),n(me,function(n,e){e.print_string(n.getValue(),n.quote)}),n(ve,function(n,e){e.print(p(n.getValue()))}),n(ge,function(n,e){var t=n.getValue().toString();e.option("ascii_only")?t=e.to_ascii(t):e.option("unescape_regexps")&&(t=t.split("\\\\").map(function(n){return n.replace(/\\u[0-9a-fA-F]{4}|\\x[0-9a-fA-F]{2}/g,function(n){var e=parseInt(n.substr(2),16);return a(e)?String.fromCharCode(e):n})}).join("\\\\")),e.print(t);var r=e.parent();r instanceof Yn&&/^in/.test(r.operator)&&r.left===n&&e.print(" ")}),h(G,l),h(Z,_),h(K,_),h(te,_),h(bn,_),h(rn,_),h(on,l),h(_n,_),h(Sn,_),h(kn,_),h(en,_),h(hn,l),h(Rn,_),h(Tn,_),h(On,_),h($n,_),h(Mn,_),h(_e,_),h(Zn,function(n,e){e.add_mapping(n.start,n.key)})}(),U.prototype=new j,f(U.prototype,{option:function(n){return this.options[n]},warn:function(){this.options.warnings&&G.warn.apply(G,arguments)},before:function(n,e,t){if(n._squeezed)return n;var r=!1;return n instanceof dn&&(n=n.hoist_declarations(this),r=!0),e(n,this),n=n.optimize(this),r&&n instanceof dn&&(n.drop_unused(this),e(n,this)),n._squeezed=!0,n}}),function(){function n(n,e){n.DEFMETHOD("optimize",function(n){var t=this;if(t._optimized)return t;var r=e(t,n);return r._optimized=!0,r===t?r:r.transform(n)})}function e(n,e,t){return t||(t={}),e&&(t.start||(t.start=e.start),t.end||(t.end=e.end)),new n(t)}function t(n,t,r){if(t instanceof G)return t.transform(n);switch(typeof t){case"string":return e(me,r,{value:t}).optimize(n);case"number":return e(isNaN(t)?Ae:ve,r,{value:t}).optimize(n);case"boolean":return e(t?Se:Ce,r).optimize(n);case"undefined":return e(we,r).optimize(n);default:if(null===t)return e(ye,r,{value:null}).optimize(n);if(t instanceof RegExp)return e(ge,r,{value:t}).optimize(n);throw new Error(d("Can't handle constant of type: {type}",{type:typeof t}))}}function r(n){if(null===n)return[];if(n instanceof en)return n.body;if(n instanceof tn)return[];if(n instanceof J)return[n];throw new Error("Can't convert thing to statement array")}function o(n){return null===n?!0:n instanceof tn?!0:n instanceof en?0==n.body.length:!1}function u(n){return n instanceof Sn?n:(n instanceof fn||n instanceof ln||n instanceof un)&&n.body instanceof en?n.body:n}function s(n,t){function o(n){function r(n){return/@ngInject/.test(n.value)}function o(n){return n.argnames.map(function(n){return e(me,n,{value:n.name})})}function i(n,t){return e(Jn,n,{elements:t})}function a(n,t){return e(Q,n,{body:e(Gn,n,{operator:"=",left:e(In,t,{expression:e(pe,t,t),property:"$inject"}),right:i(n,o(n))})})}function u(n){n&&n.args&&(n.args.forEach(function(n,e,t){var a=n.start.comments_before;n instanceof _n&&a.length&&r(a[0])&&(t[e]=i(n,o(n).concat(n)))}),n.expression&&n.expression.expression&&u(n.expression.expression))}return n.reduce(function(n,e){if(n.push(e),e.body&&e.body.args)u(e.body);else{var o=e.start,i=o.comments_before;if(i&&i.length>0){var s=i.pop();r(s)&&(e instanceof gn?n.push(a(e,e.name)):e instanceof Mn?e.definitions.forEach(function(e){e.value&&e.value instanceof _n&&n.push(a(e.value,e.name))}):t.warn("Unknown statement marked with @ngInject [{file}:{line},{col}]",o))}}return n},[])}function i(n){var e=[];return n.reduce(function(n,t){return t instanceof en?(_=!0,n.push.apply(n,i(t.body))):t instanceof tn?_=!0:t instanceof Z?e.indexOf(t.value)<0?(n.push(t),e.push(t.value)):_=!0:n.push(t),n},[])}function a(n,t){var o=t.self(),i=o instanceof _n,a=[];n:for(var s=n.length;--s>=0;){var c=n[s];switch(!0){case i&&c instanceof An&&!c.value&&0==a.length:_=!0;continue n;case c instanceof Cn:if(c.body instanceof An){if((i&&0==a.length||a[0]instanceof An&&!a[0].value)&&!c.body.value&&!c.alternative){_=!0;var f=e(Q,c.condition,{body:c.condition});a.unshift(f);continue n}if(a[0]instanceof An&&c.body.value&&a[0].value&&!c.alternative){_=!0,c=c.clone(),c.alternative=a[0],a[0]=c.transform(t);continue n}if((0==a.length||a[0]instanceof An)&&c.body.value&&!c.alternative&&i){_=!0,c=c.clone(),c.alternative=a[0]||e(An,c,{value:e(we,c)}),a[0]=c.transform(t);continue n}if(!c.body.value&&i){_=!0,c=c.clone(),c.condition=c.condition.negate(t),c.body=e(en,c,{body:r(c.alternative).concat(a)}),c.alternative=null,a=[c.transform(t)];continue n}if(1==a.length&&i&&a[0]instanceof Q&&(!c.alternative||c.alternative instanceof Q)){_=!0,a.push(e(An,a[0],{value:e(we,a[0])}).transform(t)),a=r(c.alternative).concat(a),a.unshift(c);continue n}}var l=m(c.body),p=l instanceof En?t.loopcontrol_target(l.label):null;if(l&&(l instanceof An&&!l.value&&i||l instanceof Fn&&o===u(p)||l instanceof Dn&&p instanceof en&&o===p)){l.label&&h(l.label.thedef.references,l),_=!0;var d=r(c.body).slice(0,-1);c=c.clone(),c.condition=c.condition.negate(t),c.body=e(en,c,{body:r(c.alternative).concat(a)}),c.alternative=e(en,c,{body:d}),a=[c.transform(t)];continue n}var l=m(c.alternative),p=l instanceof En?t.loopcontrol_target(l.label):null;if(l&&(l instanceof An&&!l.value&&i||l instanceof Fn&&o===u(p)||l instanceof Dn&&p instanceof en&&o===p)){l.label&&h(l.label.thedef.references,l),_=!0,c=c.clone(),c.body=e(en,c.body,{body:r(c.body).concat(a)}),c.alternative=e(en,c.alternative,{body:r(c.alternative).slice(0,-1)}),a=[c.transform(t)];continue n}a.unshift(c);break;default:a.unshift(c)}}return a}function s(n,e){var t=!1,r=n.length,o=e.self();return n=n.reduce(function(n,r){if(t)c(e,r,n);else{if(r instanceof En){var i=e.loopcontrol_target(r.label);r instanceof Dn&&i instanceof en&&u(i)===o||r instanceof Fn&&u(i)===o?r.label&&h(r.label.thedef.references,r):n.push(r)}else n.push(r);m(r)&&(t=!0)}return n},[]),_=n.length!=r,n}function f(n,t){function r(){o=jn.from_array(o),o&&i.push(e(Q,o,{body:o})),o=[]}if(n.length<2)return n;var o=[],i=[];return n.forEach(function(n){n instanceof Q&&o.length<2e3?o.push(n.body):(r(),i.push(n))}),r(),i=l(i,t),_=i.length!=n.length,i}function l(n,t){function r(n){o.pop();var e=i.body;return e instanceof jn?e.add(n):e=jn.cons(e,n),e.transform(t)}var o=[],i=null;return n.forEach(function(n){if(i)if(n instanceof fn){var t={};try{i.body.walk(new E(function(n){if(n instanceof Yn&&"in"==n.operator)throw t})),!n.init||n.init instanceof Mn?n.init||(n.init=i.body,o.pop()):n.init=r(n.init)}catch(a){if(a!==t)throw a}}else n instanceof Cn?n.condition=r(n.condition):n instanceof pn?n.expression=r(n.expression):n instanceof yn&&n.value?n.value=r(n.value):n instanceof yn?n.value=r(e(we,n)):n instanceof Sn&&(n.expression=r(n.expression));o.push(n),i=n instanceof Q?n:null}),o}function p(n,e){var t=null;return n.reduce(function(n,e){return e instanceof Mn&&t&&t.TYPE==e.TYPE?(t.definitions=t.definitions.concat(e.definitions),_=!0):e instanceof fn&&t instanceof Mn&&(!e.init||e.init.TYPE==t.TYPE)?(_=!0,n.pop(),e.init?e.init.definitions=t.definitions.concat(e.init.definitions):e.init=t,n.push(e),t=e):(t=e,n.push(e)),n},[])}function d(n,t){n.forEach(function(n){n instanceof Q&&(n.body=function t(n){return n.transform(new j(function(n){if(n instanceof Hn&&n.expression instanceof vn)return e(Vn,n,{operator:"!",expression:n});if(n instanceof Hn)n.expression=t(n.expression);else if(n instanceof jn)n.car=t(n.car);else if(n instanceof Xn){var r=t(n.condition);if(r!==n.condition){n.condition=r;var o=n.consequent;n.consequent=n.alternative,n.alternative=o}}return n}))}(n.body))})}var _;do _=!1,t.option("angular")&&(n=o(n)),n=i(n),t.option("dead_code")&&(n=s(n,t)),t.option("if_return")&&(n=a(n,t)),t.option("sequences")&&(n=f(n,t)),t.option("join_vars")&&(n=p(n,t));while(_);return t.option("negate_iife")&&d(n,t),n}function c(n,e,t){n.warn("Dropping unreachable code [{file}:{line},{col}]",e.start),e.walk(new E(function(e){return e instanceof Mn?(n.warn("Declarations in unreachable code! [{file}:{line},{col}]",e.start),e.remove_initializers(),t.push(e),!0):e instanceof gn?(t.push(e),!0):e instanceof dn?!0:void 0}))}function f(n,e){return n.print_to_string().length>e.print_to_string().length?e:n}function m(n){return n&&n.aborts()}function v(n,t){function o(o){o=r(o),n.body instanceof en?(n.body=n.body.clone(),n.body.body=o.concat(n.body.body.slice(1)),n.body=n.body.transform(t)):n.body=e(en,n.body,{body:o}).transform(t),v(n,t)}var i=n.body instanceof en?n.body.body[0]:n.body;i instanceof Cn&&(i.body instanceof Dn&&t.loopcontrol_target(i.body.label)===n?(n.condition?n.condition=e(Yn,n.condition,{left:n.condition,operator:"&&",right:i.condition.negate(t)}):n.condition=i.condition.negate(t),o(i.alternative)):i.alternative instanceof Dn&&t.loopcontrol_target(i.alternative.label)===n&&(n.condition?n.condition=e(Yn,n.condition,{left:n.condition,operator:"&&",right:i.condition}):n.condition=i.condition,o(i.body)))}function A(n,e){var t=e.option("pure_getters");e.options.pure_getters=!1;var r=n.has_side_effects(e);return e.options.pure_getters=t,r}function w(n,t){return t.option("booleans")&&t.in_boolean_context()&&!n.has_side_effects(t)?e(Se,n):n}n(G,function(n,e){return n}),G.DEFMETHOD("equivalent_to",function(n){return this.print_to_string()==n.print_to_string()}),function(n){var e=["!","delete"],t=["in","instanceof","==","!=","===","!==","<","<=",">=",">"];n(G,function(){return!1}),n(Vn,function(){return i(this.operator,e)}),n(Yn,function(){return i(this.operator,t)||("&&"==this.operator||"||"==this.operator)&&this.left.is_boolean()&&this.right.is_boolean()}),n(Xn,function(){return this.consequent.is_boolean()&&this.alternative.is_boolean()}),n(Gn,function(){return"="==this.operator&&this.right.is_boolean()}),n(jn,function(){return this.cdr.is_boolean()}),n(Se,function(){return!0}),n(Ce,function(){return!0})}(function(n,e){n.DEFMETHOD("is_boolean",e)}),function(n){n(G,function(){return!1}),n(me,function(){return!0}),n(Vn,function(){return"typeof"==this.operator}),n(Yn,function(n){return"+"==this.operator&&(this.left.is_string(n)||this.right.is_string(n))}),n(Gn,function(n){return("="==this.operator||"+="==this.operator)&&this.right.is_string(n)}),n(jn,function(n){return this.cdr.is_string(n)}),n(Xn,function(n){return this.consequent.is_string(n)&&this.alternative.is_string(n)}),n(Hn,function(n){return n.option("unsafe")&&this.expression instanceof pe&&"String"==this.expression.name&&this.expression.undeclared()})}(function(n,e){n.DEFMETHOD("is_string",e)}),function(n){function e(n,e){if(!e)throw new Error("Compressor must be passed");return n._eval(e)}G.DEFMETHOD("evaluate",function(e){if(!e.option("evaluate"))return[this];try{var r=this._eval(e);return[f(t(e,r,this),this),r]}catch(o){if(o!==n)throw o;return[this]}}),n(J,function(){throw new Error(d("Cannot evaluate a statement [{file}:{line},{col}]",this.start))}),n(vn,function(){throw n}),n(G,function(){throw n}),n(_e,function(){return this.getValue()}),n(Vn,function(t){var r=this.expression;switch(this.operator){case"!":return!e(r,t);case"typeof":if(r instanceof vn)return"function";if(r=e(r,t),r instanceof RegExp)throw n;return typeof r;case"void":return void e(r,t);case"~":return~e(r,t);case"-":if(r=e(r,t),0===r)throw n;return-r;case"+":return+e(r,t)}throw n}),n(Yn,function(t){var r=this.left,o=this.right;switch(this.operator){case"&&":return e(r,t)&&e(o,t);case"||":return e(r,t)||e(o,t);case"|":return e(r,t)|e(o,t);case"&":return e(r,t)&e(o,t);case"^":return e(r,t)^e(o,t);case"+":return e(r,t)+e(o,t);case"*":return e(r,t)*e(o,t);case"/":return e(r,t)/e(o,t);case"%":return e(r,t)%e(o,t);case"-":return e(r,t)-e(o,t);case"<<":return e(r,t)<<e(o,t);case">>":return e(r,t)>>e(o,t);case">>>":return e(r,t)>>>e(o,t);case"==":return e(r,t)==e(o,t);case"===":return e(r,t)===e(o,t);case"!=":return e(r,t)!=e(o,t);case"!==":return e(r,t)!==e(o,t);case"<":return e(r,t)<e(o,t);case"<=":return e(r,t)<=e(o,t);case">":return e(r,t)>e(o,t);case">=":return e(r,t)>=e(o,t);case"in":return e(r,t)in e(o,t);case"instanceof":return e(r,t)instanceof e(o,t)}throw n}),n(Xn,function(n){return e(this.condition,n)?e(this.consequent,n):e(this.alternative,n)}),n(pe,function(t){var r=this.definition();if(r&&r.constant&&r.init)return e(r.init,t);throw n}),n(In,function(t){if(t.option("unsafe")&&"length"==this.property){var r=e(this.expression,t);if("string"==typeof r)return r.length}throw n})}(function(n,e){n.DEFMETHOD("_eval",e)}),function(n){function t(n){return e(Vn,n,{operator:"!",expression:n})}n(G,function(){return t(this)}),n(J,function(){throw new Error("Cannot negate a statement")}),n(vn,function(){return t(this)}),n(Vn,function(){return"!"==this.operator?this.expression:t(this)}),n(jn,function(n){var e=this.clone();return e.cdr=e.cdr.negate(n),e}),n(Xn,function(n){var e=this.clone();return e.consequent=e.consequent.negate(n),e.alternative=e.alternative.negate(n),f(t(this),e)}),n(Yn,function(n){var e=this.clone(),r=this.operator;if(n.option("unsafe_comps"))switch(r){case"<=":return e.operator=">",e;case"<":return e.operator=">=",e;case">=":return e.operator="<",e;case">":return e.operator="<=",e}switch(r){case"==":return e.operator="!=",e;case"!=":return e.operator="==",e;case"===":return e.operator="!==",e;case"!==":return e.operator="===",e;case"&&":return e.operator="||",e.left=e.left.negate(n),e.right=e.right.negate(n),f(t(this),e);case"||":return e.operator="&&",e.left=e.left.negate(n),e.right=e.right.negate(n),f(t(this),e)}return t(this)})}(function(n,e){n.DEFMETHOD("negate",function(n){return e.call(this,n)})}),function(n){n(G,function(n){return!0}),n(tn,function(n){return!1}),n(_e,function(n){return!1}),n(he,function(n){return!1}),n(Hn,function(n){var e=n.option("pure_funcs");return e?e.indexOf(this.expression.print_to_string())<0:!0}),n(nn,function(n){for(var e=this.body.length;--e>=0;)if(this.body[e].has_side_effects(n))return!0;return!1}),n(Q,function(n){return this.body.has_side_effects(n)}),n(gn,function(n){return!0}),n(vn,function(n){return!1}),n(Yn,function(n){return this.left.has_side_effects(n)||this.right.has_side_effects(n)}),n(Gn,function(n){return!0}),n(Xn,function(n){return this.condition.has_side_effects(n)||this.consequent.has_side_effects(n)||this.alternative.has_side_effects(n)}),n(Ln,function(n){return"delete"==this.operator||"++"==this.operator||"--"==this.operator||this.expression.has_side_effects(n)}),n(pe,function(n){return this.global()&&this.undeclared()}),n(Kn,function(n){for(var e=this.properties.length;--e>=0;)if(this.properties[e].has_side_effects(n))return!0;return!1}),n(Zn,function(n){return this.value.has_side_effects(n)}),n(Jn,function(n){for(var e=this.elements.length;--e>=0;)if(this.elements[e].has_side_effects(n))return!0;return!1}),n(In,function(n){return n.option("pure_getters")?this.expression.has_side_effects(n):!0}),n(Un,function(n){return n.option("pure_getters")?this.expression.has_side_effects(n)||this.property.has_side_effects(n):!0}),n(Pn,function(n){return!n.option("pure_getters")}),n(jn,function(n){return this.car.has_side_effects(n)||this.cdr.has_side_effects(n)})}(function(n,e){n.DEFMETHOD("has_side_effects",e)}),function(n){function e(){var n=this.body.length;return n>0&&m(this.body[n-1])}n(J,function(){return null}),n(bn,function(){return this}),n(en,e),n(kn,e),n(Cn,function(){return this.alternative&&m(this.body)&&m(this.alternative)&&this})}(function(n,e){n.DEFMETHOD("aborts",e)}),n(Z,function(n,t){return n.scope.has_directive(n.value)!==n.scope?e(tn,n):n}),n(K,function(n,t){return t.option("drop_debugger")?e(tn,n):n}),n(on,function(n,t){return n.body instanceof Dn&&t.loopcontrol_target(n.body.label)===n.body?e(tn,n):0==n.label.references.length?n.body:n}),n(nn,function(n,e){return n.body=s(n.body,e),n}),n(en,function(n,t){switch(n.body=s(n.body,t),n.body.length){case 1:return n.body[0];case 0:return e(tn,n)}return n}),dn.DEFMETHOD("drop_unused",function(n){var t=this;if(n.option("unused")&&!(t instanceof hn)&&!t.uses_eval){var r=[],o=new y,a=this,u=new E(function(e,i){if(e!==t){if(e instanceof gn)return o.add(e.name.name,e),!0;if(e instanceof Mn&&a===t)return e.definitions.forEach(function(e){e.value&&(o.add(e.name.name,e.value),e.value.has_side_effects(n)&&e.value.walk(u))}),!0;if(e instanceof pe)return p(r,e.definition()),!0;if(e instanceof dn){var s=a;return a=e,i(),a=s,!0}}});t.walk(u);for(var s=0;s<r.length;++s)r[s].orig.forEach(function(n){var e=o.get(n.name);e&&e.forEach(function(n){var e=new E(function(n){n instanceof pe&&p(r,n.definition())});n.walk(e)})});var c=new j(function(o,a,u){if(o instanceof _n&&!(o instanceof mn)&&n.option("unsafe")&&!n.option("keep_fargs"))for(var s=o.argnames,f=s.length;--f>=0;){var l=s[f];if(!l.unreferenced())break;s.pop(),n.warn("Dropping unused function argument {name} [{file}:{line},{col}]",{name:l.name,file:l.start.file,line:l.start.line,col:l.start.col})}if(o instanceof gn&&o!==t)return i(o.name.definition(),r)?o:(n.warn("Dropping unused function {name} [{file}:{line},{col}]",{name:o.name.name,file:o.name.start.file,line:o.name.start.line,col:o.name.start.col}),e(tn,o));if(o instanceof Mn&&!(c.parent()instanceof ln)){var p=o.definitions.filter(function(e){if(i(e.name.definition(),r))return!0;var t={name:e.name.name,file:e.name.start.file,line:e.name.start.line,col:e.name.start.col};return e.value&&e.value.has_side_effects(n)?(e._unused_side_effects=!0,n.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",t),!0):(n.warn("Dropping unused variable {name} [{file}:{line},{col}]",t),!1)});p=_(p,function(n,e){return!n.value&&e.value?-1:!e.value&&n.value?1:0});for(var d=[],f=0;f<p.length;){var h=p[f];h._unused_side_effects?(d.push(h.value),p.splice(f,1)):(d.length>0&&(d.push(h.value),h.value=jn.from_array(d),d=[]),++f)}return d=d.length>0?e(en,o,{body:[e(Q,o,{body:jn.from_array(d)})]}):null,0!=p.length||d?0==p.length?u?Y.splice(d.body):d:(o.definitions=p,d?(d.body.unshift(o),u?Y.splice(d.body):d):o):e(tn,o)}if(o instanceof fn&&(a(o,this),o.init instanceof en)){var m=o.init.body.slice(0,-1);return o.init=o.init.body.slice(-1)[0].body,m.push(o),u?Y.splice(m):e(en,o,{body:m})}return o instanceof dn&&o!==t?o:void 0});t.transform(c)}}),dn.DEFMETHOD("hoist_declarations",function(n){var t=n.option("hoist_funs"),r=n.option("hoist_vars"),o=this;if(t||r){var i=[],u=[],s=new y,c=0,f=0;o.walk(new E(function(n){return n instanceof dn&&n!==o?!0:n instanceof qn?(++f,!0):void 0})),r=r&&f>1;var l=new j(function(n){if(n!==o){if(n instanceof Z)return i.push(n),e(tn,n);if(n instanceof gn&&t)return u.push(n),e(tn,n);if(n instanceof qn&&r){n.definitions.forEach(function(n){s.set(n.name.name,n),++c});var a=n.to_assignments(),f=l.parent();return f instanceof ln&&f.init===n?null==a?n.definitions[0].name:a:f instanceof fn&&f.init===n?a:a?e(Q,n,{body:a}):e(tn,n)}if(n instanceof dn)return n}});if(o=o.transform(l),c>0){var p=[];if(s.each(function(n,e){o instanceof _n&&a(function(e){return e.name==n.name.name},o.argnames)?s.del(e):(n=n.clone(),n.value=null,p.push(n),s.set(e,n))}),p.length>0){for(var d=0;d<o.body.length;){if(o.body[d]instanceof Q){var _,m,v=o.body[d].body;if(v instanceof Gn&&"="==v.operator&&(_=v.left)instanceof te&&s.has(_.name)){var g=s.get(_.name);if(g.value)break;g.value=v.right,h(p,g),p.push(g),o.body.splice(d,1);continue}if(v instanceof jn&&(m=v.car)instanceof Gn&&"="==m.operator&&(_=m.left)instanceof te&&s.has(_.name)){var g=s.get(_.name);if(g.value)break;g.value=m.right,h(p,g),p.push(g),o.body[d].body=v.cdr;continue}}if(o.body[d]instanceof tn)o.body.splice(d,1);else{if(!(o.body[d]instanceof en))break;var b=[d,1].concat(o.body[d].body);o.body.splice.apply(o.body,b)}}p=e(qn,o,{definitions:p}),u.push(p)}}o.body=i.concat(u,o.body)}return o}),n(Q,function(n,t){return t.option("side_effects")&&!n.body.has_side_effects(t)?(t.warn("Dropping side-effect-free statement [{file}:{line},{col}]",n.start),e(tn,n)):n}),n(un,function(n,t){var r=n.condition.evaluate(t);if(n.condition=r[0],!t.option("loops"))return n;if(r.length>1){if(r[1])return e(fn,n,{body:n.body});if(n instanceof cn&&t.option("dead_code")){var o=[];return c(t,n.body,o),e(en,n,{body:o})}}return n}),n(cn,function(n,t){return t.option("loops")?(n=un.prototype.optimize.call(n,t),n instanceof cn&&(v(n,t),n=e(fn,n,n).transform(t)),
n):n}),n(fn,function(n,t){var r=n.condition;if(r&&(r=r.evaluate(t),n.condition=r[0]),!t.option("loops"))return n;if(r&&r.length>1&&!r[1]&&t.option("dead_code")){var o=[];return n.init instanceof J?o.push(n.init):n.init&&o.push(e(Q,n.init,{body:n.init})),c(t,n.body,o),e(en,n,{body:o})}return v(n,t),n}),n(Cn,function(n,t){if(!t.option("conditionals"))return n;var r=n.condition.evaluate(t);if(n.condition=r[0],r.length>1)if(r[1]){if(t.warn("Condition always true [{file}:{line},{col}]",n.condition.start),t.option("dead_code")){var i=[];return n.alternative&&c(t,n.alternative,i),i.push(n.body),e(en,n,{body:i}).transform(t)}}else if(t.warn("Condition always false [{file}:{line},{col}]",n.condition.start),t.option("dead_code")){var i=[];return c(t,n.body,i),n.alternative&&i.push(n.alternative),e(en,n,{body:i}).transform(t)}o(n.alternative)&&(n.alternative=null);var a=n.condition.negate(t),u=f(n.condition,a)===a;if(n.alternative&&u){u=!1,n.condition=a;var s=n.body;n.body=n.alternative||e(tn),n.alternative=s}if(o(n.body)&&o(n.alternative))return e(Q,n.condition,{body:n.condition}).transform(t);if(n.body instanceof Q&&n.alternative instanceof Q)return e(Q,n,{body:e(Xn,n,{condition:n.condition,consequent:n.body.body,alternative:n.alternative.body})}).transform(t);if(o(n.alternative)&&n.body instanceof Q)return u?e(Q,n,{body:e(Yn,n,{operator:"||",left:a,right:n.body.body})}).transform(t):e(Q,n,{body:e(Yn,n,{operator:"&&",left:n.condition,right:n.body.body})}).transform(t);if(n.body instanceof tn&&n.alternative&&n.alternative instanceof Q)return e(Q,n,{body:e(Yn,n,{operator:"||",left:n.condition,right:n.alternative.body})}).transform(t);if(n.body instanceof yn&&n.alternative instanceof yn&&n.body.TYPE==n.alternative.TYPE)return e(n.body.CTOR,n,{value:e(Xn,n,{condition:n.condition,consequent:n.body.value||e(we,n.body).optimize(t),alternative:n.alternative.value||e(we,n.alternative).optimize(t)})}).transform(t);if(n.body instanceof Cn&&!n.body.alternative&&!n.alternative&&(n.condition=e(Yn,n.condition,{operator:"&&",left:n.condition,right:n.body.condition}).transform(t),n.body=n.body.body),m(n.body)&&n.alternative){var l=n.alternative;return n.alternative=null,e(en,n,{body:[n,l]}).transform(t)}if(m(n.alternative)){var p=n.body;return n.body=n.alternative,n.condition=u?a:n.condition.negate(t),n.alternative=null,e(en,n,{body:[n,p]}).transform(t)}return n}),n(Sn,function(n,t){if(0==n.body.length&&t.option("conditionals"))return e(Q,n,{body:n.expression}).transform(t);for(;;){var r=n.body[n.body.length-1];if(r){var o=r.body[r.body.length-1];if(o instanceof Dn&&u(t.loopcontrol_target(o.label))===n&&r.body.pop(),r instanceof Bn&&0==r.body.length){n.body.pop();continue}}break}var i=n.expression.evaluate(t);n:if(2==i.length)try{if(n.expression=i[0],!t.option("dead_code"))break n;var a=i[1],s=!1,c=!1,f=!1,l=!1,p=!1,d=new j(function(r,o,i){if(r instanceof _n||r instanceof Q)return r;if(r instanceof Sn&&r===n)return r=r.clone(),o(r,this),p?r:e(en,r,{body:r.body.reduce(function(n,e){return n.concat(e.body)},[])}).transform(t);if(r instanceof Cn||r instanceof Tn){var u=s;return s=!c,o(r,this),s=u,r}if(r instanceof rn||r instanceof Sn){var u=c;return c=!0,o(r,this),c=u,r}if(r instanceof Dn&&this.loopcontrol_target(r.label)===n)return s?(p=!0,r):c?r:(l=!0,i?Y.skip:e(tn,r));if(r instanceof kn&&this.parent()===n){if(l)return Y.skip;if(r instanceof xn){var d=r.expression.evaluate(t);if(d.length<2)throw n;return d[1]===a||f?(f=!0,m(r)&&(l=!0),o(r,this),r):Y.skip}return o(r,this),r}});d.stack=t.stack.slice(),n=n.transform(d)}catch(h){if(h!==n)throw h}return n}),n(xn,function(n,e){return n.body=s(n.body,e),n}),n(Tn,function(n,e){return n.body=s(n.body,e),n}),Mn.DEFMETHOD("remove_initializers",function(){this.definitions.forEach(function(n){n.value=null})}),Mn.DEFMETHOD("to_assignments",function(){var n=this.definitions.reduce(function(n,t){if(t.value){var r=e(pe,t.name,t.name);n.push(e(Gn,t,{operator:"=",left:r,right:t.value}))}return n},[]);return 0==n.length?null:jn.from_array(n)}),n(Mn,function(n,t){return 0==n.definitions.length?e(tn,n):n}),n(vn,function(n,e){return n=_n.prototype.optimize.call(n,e),e.option("unused")&&!e.option("keep_fnames")&&n.name&&n.name.unreferenced()&&(n.name=null),n}),n(Hn,function(n,r){if(r.option("unsafe")){var o=n.expression;if(o instanceof pe&&o.undeclared())switch(o.name){case"Array":if(1!=n.args.length)return e(Jn,n,{elements:n.args}).transform(r);break;case"Object":if(0==n.args.length)return e(Kn,n,{properties:[]});break;case"String":if(0==n.args.length)return e(me,n,{value:""});if(n.args.length<=1)return e(Yn,n,{left:n.args[0],operator:"+",right:e(me,n,{value:""})}).transform(r);break;case"Number":if(0==n.args.length)return e(ve,n,{value:0});if(1==n.args.length)return e(Vn,n,{expression:n.args[0],operator:"+"}).transform(r);case"Boolean":if(0==n.args.length)return e(Ce,n);if(1==n.args.length)return e(Vn,n,{expression:e(Vn,null,{expression:n.args[0],operator:"!"}),operator:"!"}).transform(r);break;case"Function":if(0==n.args.length)return e(vn,n,{argnames:[],body:[]});if(b(n.args,function(n){return n instanceof me}))try{var i="(function("+n.args.slice(0,-1).map(function(n){return n.value}).join(",")+"){"+n.args[n.args.length-1].value+"})()",a=R(i);a.figure_out_scope({screw_ie8:r.option("screw_ie8")});var u=new U(r.options);a=a.transform(u),a.figure_out_scope({screw_ie8:r.option("screw_ie8")}),a.mangle_names();var s;try{a.walk(new E(function(n){if(n instanceof _n)throw s=n,a}))}catch(c){if(c!==a)throw c}if(!s)return n;var l=s.argnames.map(function(t,r){return e(me,n.args[r],{value:t.print_to_string()})}),i=I();return en.prototype._codegen.call(s,s,i),i=i.toString().replace(/^\{|\}$/g,""),l.push(e(me,n.args[n.args.length-1],{value:i})),n.args=l,n}catch(c){if(!(c instanceof q))throw console.log(c),c;r.warn("Error parsing code passed to new Function [{file}:{line},{col}]",n.args[n.args.length-1].start),r.warn(c.toString())}}else{if(o instanceof In&&"toString"==o.property&&0==n.args.length)return e(Yn,n,{left:e(me,n,{value:""}),operator:"+",right:o.expression}).transform(r);if(o instanceof In&&o.expression instanceof Jn&&"join"==o.property){var p=0==n.args.length?",":n.args[0].evaluate(r)[1];if(null!=p){var d=o.expression.elements.reduce(function(n,e){if(e=e.evaluate(r),0==n.length||1==e.length)n.push(e);else{var o=n[n.length-1];if(2==o.length){var i=""+o[1]+p+e[1];n[n.length-1]=[t(r,i,o[0]),i]}else n.push(e)}return n},[]);if(0==d.length)return e(me,n,{value:""});if(1==d.length)return d[0][0];if(""==p){var h;return h=d[0][0]instanceof me||d[1][0]instanceof me?d.shift()[0]:e(me,n,{value:""}),d.reduce(function(n,t){return e(Yn,t[0],{operator:"+",left:n,right:t[0]})},h).transform(r)}var _=n.clone();return _.expression=_.expression.clone(),_.expression.expression=_.expression.expression.clone(),_.expression.expression.elements=d.map(function(n){return n[0]}),f(n,_)}}}}if(r.option("side_effects")&&n.expression instanceof vn&&0==n.args.length&&!nn.prototype.has_side_effects.call(n.expression,r))return e(we,n).transform(r);if(r.option("drop_console")&&n.expression instanceof Pn){for(var m=n.expression.expression;m.expression;)m=m.expression;if(m instanceof pe&&"console"==m.name&&m.undeclared())return e(we,n).transform(r)}return n.evaluate(r)[0]}),n(Rn,function(n,t){if(t.option("unsafe")){var r=n.expression;if(r instanceof pe&&r.undeclared())switch(r.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return e(Hn,n,n).transform(t)}}return n}),n(jn,function(n,t){if(!t.option("side_effects"))return n;if(!n.car.has_side_effects(t)){var r;if(!(n.cdr instanceof pe&&"eval"==n.cdr.name&&n.cdr.undeclared()&&(r=t.parent())instanceof Hn&&r.expression===n))return n.cdr}if(t.option("cascade")){if(n.car instanceof Gn&&!n.car.left.has_side_effects(t)){if(n.car.left.equivalent_to(n.cdr))return n.car;if(n.cdr instanceof Hn&&n.cdr.expression.equivalent_to(n.car.left))return n.cdr.expression=n.car,n.cdr}if(!n.car.has_side_effects(t)&&!n.cdr.has_side_effects(t)&&n.car.equivalent_to(n.cdr))return n.car}return n.cdr instanceof Vn&&"void"==n.cdr.operator&&!n.cdr.expression.has_side_effects(t)?(n.cdr.expression=n.car,n.cdr):n.cdr instanceof we?e(Vn,n,{operator:"void",expression:n.car}):n}),Ln.DEFMETHOD("lift_sequences",function(n){if(n.option("sequences")&&this.expression instanceof jn){var e=this.expression,t=e.to_array();return this.expression=t.pop(),t.push(this),e=jn.from_array(t).transform(n)}return this}),n(Wn,function(n,e){return n.lift_sequences(e)}),n(Vn,function(n,t){n=n.lift_sequences(t);var r=n.expression;if(t.option("booleans")&&t.in_boolean_context()){switch(n.operator){case"!":if(r instanceof Vn&&"!"==r.operator)return r.expression;break;case"typeof":return t.warn("Boolean expression always true [{file}:{line},{col}]",n.start),e(Se,n)}r instanceof Yn&&"!"==n.operator&&(n=f(n,r.negate(t)))}return n.evaluate(t)[0]}),Yn.DEFMETHOD("lift_sequences",function(n){if(n.option("sequences")){if(this.left instanceof jn){var e=this.left,t=e.to_array();return this.left=t.pop(),t.push(this),e=jn.from_array(t).transform(n)}if(this.right instanceof jn&&this instanceof Gn&&!A(this.left,n)){var e=this.right,t=e.to_array();return this.right=t.pop(),t.push(this),e=jn.from_array(t).transform(n)}}return this});var D=g("== === != !== * & | ^");n(Yn,function(n,t){var r=t.has_directive("use asm")?l:function(e,r){if(r||!n.left.has_side_effects(t)&&!n.right.has_side_effects(t)){e&&(n.operator=e);var o=n.left;n.left=n.right,n.right=o}};if(D(n.operator)&&(n.right instanceof _e&&!(n.left instanceof _e)&&(n.left instanceof Yn&&We[n.left.operator]>=We[n.operator]||r(null,!0)),/^[!=]==?$/.test(n.operator))){if(n.left instanceof pe&&n.right instanceof Xn){if(n.right.consequent instanceof pe&&n.right.consequent.definition()===n.left.definition()){if(/^==/.test(n.operator))return n.right.condition;if(/^!=/.test(n.operator))return n.right.condition.negate(t)}if(n.right.alternative instanceof pe&&n.right.alternative.definition()===n.left.definition()){if(/^==/.test(n.operator))return n.right.condition.negate(t);if(/^!=/.test(n.operator))return n.right.condition}}if(n.right instanceof pe&&n.left instanceof Xn){if(n.left.consequent instanceof pe&&n.left.consequent.definition()===n.right.definition()){if(/^==/.test(n.operator))return n.left.condition;if(/^!=/.test(n.operator))return n.left.condition.negate(t)}if(n.left.alternative instanceof pe&&n.left.alternative.definition()===n.right.definition()){if(/^==/.test(n.operator))return n.left.condition.negate(t);if(/^!=/.test(n.operator))return n.left.condition}}}if(n=n.lift_sequences(t),t.option("comparisons"))switch(n.operator){case"===":case"!==":(n.left.is_string(t)&&n.right.is_string(t)||n.left.is_boolean()&&n.right.is_boolean())&&(n.operator=n.operator.substr(0,2));case"==":case"!=":n.left instanceof me&&"undefined"==n.left.value&&n.right instanceof Vn&&"typeof"==n.right.operator&&t.option("unsafe")&&(n.right.expression instanceof pe&&n.right.expression.undeclared()||(n.right=n.right.expression,n.left=e(we,n.left).optimize(t),2==n.operator.length&&(n.operator+="=")))}if(t.option("conditionals"))if("&&"==n.operator){var o=n.left.evaluate(t),i=n.right.evaluate(t);if(o.length>1)return o[1]?(t.warn("Condition left of && always true [{file}:{line},{col}]",n.start),i[0]):(t.warn("Condition left of && always false [{file}:{line},{col}]",n.start),o[0])}else if("||"==n.operator){var o=n.left.evaluate(t),i=n.right.evaluate(t);if(o.length>1)return o[1]?(t.warn("Condition left of || always true [{file}:{line},{col}]",n.start),o[0]):(t.warn("Condition left of || always false [{file}:{line},{col}]",n.start),i[0])}if(t.option("booleans")&&t.in_boolean_context())switch(n.operator){case"&&":var o=n.left.evaluate(t),i=n.right.evaluate(t);if(o.length>1&&!o[1]||i.length>1&&!i[1])return t.warn("Boolean && always false [{file}:{line},{col}]",n.start),n.left.has_side_effects(t)?e(jn,n,{car:n.left,cdr:e(Ce)}).optimize(t):e(Ce,n);if(o.length>1&&o[1])return i[0];if(i.length>1&&i[1])return o[0];break;case"||":var o=n.left.evaluate(t),i=n.right.evaluate(t);if(o.length>1&&o[1]||i.length>1&&i[1])return t.warn("Boolean || always true [{file}:{line},{col}]",n.start),n.left.has_side_effects(t)?e(jn,n,{car:n.left,cdr:e(Se)}).optimize(t):e(Se,n);if(o.length>1&&!o[1])return i[0];if(i.length>1&&!i[1])return o[0];break;case"+":var o=n.left.evaluate(t),i=n.right.evaluate(t);if(o.length>1&&o[0]instanceof me&&o[1]||i.length>1&&i[0]instanceof me&&i[1])return t.warn("+ in boolean context always true [{file}:{line},{col}]",n.start),e(Se,n)}if(t.option("comparisons")&&n.is_boolean()){if(!(t.parent()instanceof Yn)||t.parent()instanceof Gn){var a=e(Vn,n,{operator:"!",expression:n.negate(t)});n=f(n,a)}switch(n.operator){case"<":r(">");break;case"<=":r(">=")}}return"+"==n.operator&&n.right instanceof me&&""===n.right.getValue()&&n.left instanceof Yn&&"+"==n.left.operator&&n.left.is_string(t)?n.left:(t.option("evaluate")&&"+"==n.operator&&(n.left instanceof _e&&n.right instanceof Yn&&"+"==n.right.operator&&n.right.left instanceof _e&&n.right.is_string(t)&&(n=e(Yn,n,{operator:"+",left:e(me,null,{value:""+n.left.getValue()+n.right.left.getValue(),start:n.left.start,end:n.right.left.end}),right:n.right.right})),n.right instanceof _e&&n.left instanceof Yn&&"+"==n.left.operator&&n.left.right instanceof _e&&n.left.is_string(t)&&(n=e(Yn,n,{operator:"+",left:n.left.left,right:e(me,null,{value:""+n.left.right.getValue()+n.right.getValue(),start:n.left.right.start,end:n.right.end})})),n.left instanceof Yn&&"+"==n.left.operator&&n.left.is_string(t)&&n.left.right instanceof _e&&n.right instanceof Yn&&"+"==n.right.operator&&n.right.left instanceof _e&&n.right.is_string(t)&&(n=e(Yn,n,{operator:"+",left:e(Yn,n.left,{operator:"+",left:n.left.left,right:e(me,null,{value:""+n.left.right.getValue()+n.right.left.getValue(),start:n.left.right.start,end:n.right.left.end})}),right:n.right.right}))),n.right instanceof Yn&&n.right.operator==n.operator&&("&&"==n.operator||"||"==n.operator)?(n.left=e(Yn,n.left,{operator:n.operator,left:n.left,right:n.right.left}),n.right=n.right.right,n.transform(t)):n.evaluate(t)[0])}),n(pe,function(n,r){if(n.undeclared()){var o=r.option("global_defs");if(o&&o.hasOwnProperty(n.name))return t(r,o[n.name],n);switch(n.name){case"undefined":return e(we,n);case"NaN":return e(Ae,n).transform(r);case"Infinity":return e(De,n).transform(r)}}return n}),n(De,function(n,t){return e(Yn,n,{operator:"/",left:e(ve,n,{value:1}),right:e(ve,n,{value:0})})}),n(we,function(n,t){if(t.option("unsafe")){var r=t.find_parent(dn),o=r.find_variable("undefined");if(o){var i=e(pe,n,{name:"undefined",scope:r,thedef:o});return i.reference(),i}}return n});var F=["+","-","/","*","%",">>","<<",">>>","|","^","&"];n(Gn,function(n,e){return n=n.lift_sequences(e),"="==n.operator&&n.left instanceof pe&&n.right instanceof Yn&&n.right.left instanceof pe&&n.right.left.name==n.left.name&&i(n.right.operator,F)&&(n.operator=n.right.operator+"=",n.right=n.right.right),n}),n(Xn,function(n,r){if(!r.option("conditionals"))return n;if(n.condition instanceof jn){var o=n.condition.car;return n.condition=n.condition.cdr,jn.cons(o,n)}var i=n.condition.evaluate(r);if(i.length>1)return i[1]?(r.warn("Condition always true [{file}:{line},{col}]",n.start),n.consequent):(r.warn("Condition always false [{file}:{line},{col}]",n.start),n.alternative);var a=i[0].negate(r);f(i[0],a)===a&&(n=e(Xn,n,{condition:a,consequent:n.alternative,alternative:n.consequent}));var u=n.consequent,s=n.alternative;if(u instanceof Gn&&s instanceof Gn&&u.operator==s.operator&&u.left.equivalent_to(s.left)&&!u.left.has_side_effects(r))return e(Gn,n,{operator:u.operator,left:u.left,right:e(Xn,n,{condition:n.condition,consequent:u.right,alternative:s.right})});if(u instanceof Hn&&s.TYPE===u.TYPE&&u.args.length==s.args.length&&!u.expression.has_side_effects(r)&&u.expression.equivalent_to(s.expression)){if(0==u.args.length)return e(jn,n,{car:n.condition,cdr:u});if(1==u.args.length)return u.args[0]=e(Xn,n,{condition:n.condition,consequent:u.args[0],alternative:s.args[0]}),u}return u instanceof Xn&&u.alternative.equivalent_to(s)?e(Xn,n,{condition:e(Yn,n,{left:n.condition,operator:"&&",right:u.condition}),consequent:u.consequent,alternative:s}):u instanceof _e&&s instanceof _e&&u.equivalent_to(s)?n.condition.has_side_effects(r)?jn.from_array([n.condition,t(r,u.value,n)]):t(r,u.value,n):u instanceof Se&&s instanceof Ce?(n.condition=n.condition.negate(r),e(Vn,n.condition,{operator:"!",expression:n.condition})):u instanceof Ce&&s instanceof Se?n.condition.negate(r):n}),n(Fe,function(n,t){if(t.option("booleans")){var r=t.parent();return r instanceof Yn&&("=="==r.operator||"!="==r.operator)?(t.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:r.operator,value:n.value,file:r.start.file,line:r.start.line,col:r.start.col}),e(ve,n,{value:+n.value})):e(Vn,n,{operator:"!",expression:e(ve,n,{value:1-n.value})})}return n}),n(Un,function(n,t){var r=n.property;if(r instanceof me&&t.option("properties")){if(r=r.getValue(),xe(r)?t.option("screw_ie8"):$(r))return e(In,n,{expression:n.expression,property:r}).optimize(t);var o=parseFloat(r);isNaN(o)||o.toString()!=r||(n.property=e(ve,n.property,{value:o}))}return n}),n(In,function(n,t){var r=n.property;return xe(r)&&!t.option("screw_ie8")?e(Un,n,{expression:n.expression,property:e(me,n,{value:r})}).optimize(t):n.evaluate(t)[0]}),n(Jn,w),n(Kn,w),n(ge,w)}(),function(){function n(n){var e=n.loc,t=e&&e.start,r=n.range;return new X({file:e&&e.source,line:t&&t.line,col:t&&t.column,pos:r?r[0]:n.start,endline:t&&t.line,endcol:t&&t.column,endpos:r?r[0]:n.start})}function e(n){var e=n.loc,t=e&&e.end,r=n.range;return new X({file:e&&e.source,line:t&&t.line,col:t&&t.column,pos:r?r[1]:n.end,endline:t&&t.line,endcol:t&&t.column,endpos:r?r[1]:n.end})}function t(t,o,c){var f="function From_Moz_"+t+"(M){\n";f+="return new "+o.name+"({\nstart: my_start_token(M),\nend: my_end_token(M)";var l="function To_Moz_"+t+"(M){\n";l+="return {\ntype: "+JSON.stringify(t),c&&c.split(/\s*,\s*/).forEach(function(n){var e=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(n);if(!e)throw new Error("Can't understand property map: "+n);var t=e[1],r=e[2],o=e[3];switch(f+=",\n"+o+": ",l+=",\n"+t+": ",r){case"@":f+="M."+t+".map(from_moz)",l+="M."+o+".map(to_moz)";break;case">":f+="from_moz(M."+t+")",l+="to_moz(M."+o+")";break;case"=":f+="M."+t,l+="M."+o;break;case"%":f+="from_moz(M."+t+").body",l+="to_moz_block(M)";break;default:throw new Error("Can't understand operator in propmap: "+n)}}),f+="\n})\n}",l+="\n}\n}",f=new Function("my_start_token","my_end_token","from_moz","return("+f+")")(n,e,r),l=new Function("to_moz","to_moz_block","return("+l+")")(a,u),s[t]=f,i(o,l)}function r(n){c.push(n);var e=null!=n?s[n.type](n):null;return c.pop(),e}function o(n,e,t){var r=n.start,o=n.end;return null!=r.pos&&null!=o.endpos&&(e.range=[r.pos,o.endpos]),r.line&&(e.loc={start:{line:r.line,column:r.col},end:o.endline?{line:o.endline,column:o.endcol}:null},r.file&&(e.loc.source=r.file)),e}function i(n,e){n.DEFMETHOD("to_mozilla_ast",function(){return o(this,e(this))})}function a(n){return null!=n?n.to_mozilla_ast():null}function u(n){return{type:"BlockStatement",body:n.body.map(a)}}var s={ExpressionStatement:function(t){var o=t.expression;return"Literal"===o.type&&"string"==typeof o.value?new Z({start:n(t),end:e(t),value:o.value}):new Q({start:n(t),end:e(t),body:r(o)})},TryStatement:function(t){var o=t.handlers||[t.handler];if(o.length>1||t.guardedHandlers&&t.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new Tn({start:n(t),end:e(t),body:r(t.block).body,bcatch:r(o[0]),bfinally:t.finalizer?new $n(r(t.finalizer)):null})},Property:function(t){var o=t.key,i="Identifier"==o.type?o.name:o.value,a={start:n(o),end:e(t.value),key:i,value:r(t.value)};switch(t.kind){case"init":return new Qn(a);case"set":return a.value.name=r(o),new ne(a);case"get":return a.value.name=r(o),new ee(a)}},ObjectExpression:function(t){return new Kn({start:n(t),end:e(t),properties:t.properties.map(function(n){return n.type="Property",r(n)})})},SequenceExpression:function(n){return jn.from_array(n.expressions.map(r))},MemberExpression:function(t){return new(t.computed?Un:In)({start:n(t),end:e(t),property:t.computed?r(t.property):t.property.name,expression:r(t.object)})},SwitchCase:function(t){return new(t.test?xn:Bn)({start:n(t),end:e(t),expression:r(t.test),body:t.consequent.map(r)})},VariableDeclaration:function(t){return new("const"===t.kind?Nn:qn)({start:n(t),end:e(t),definitions:t.declarations.map(r)})},Literal:function(t){var r=t.value,o={start:n(t),end:e(t)};if(null===r)return new ye(o);switch(typeof r){case"string":return o.value=r,new me(o);case"number":return o.value=r,new ve(o);case"boolean":return new(r?Se:Ce)(o);default:return o.value=r,new ge(o)}},Identifier:function(t){var r=c[c.length-2];return new("LabeledStatement"==r.type?le:"VariableDeclarator"==r.type&&r.id===t?"const"==r.kind?ae:ie:"FunctionExpression"==r.type?r.id===t?ce:ue:"FunctionDeclaration"==r.type?r.id===t?se:ue:"CatchClause"==r.type?fe:"BreakStatement"==r.type||"ContinueStatement"==r.type?de:pe)({start:n(t),end:e(t),name:t.name})}};s.UpdateExpression=s.UnaryExpression=function(t){var o="prefix"in t?t.prefix:"UnaryExpression"==t.type?!0:!1;return new(o?Vn:Wn)({start:n(t),end:e(t),operator:t.operator,expression:r(t.argument)})},t("Program",hn,"body@body"),t("EmptyStatement",tn),t("BlockStatement",en,"body@body"),t("IfStatement",Cn,"test>condition, consequent>body, alternate>alternative"),t("LabeledStatement",on,"label>label, body>body"),t("BreakStatement",Dn,"label>label"),t("ContinueStatement",Fn,"label>label"),t("WithStatement",pn,"object>expression, body>body"),t("SwitchStatement",Sn,"discriminant>expression, cases@body"),t("ReturnStatement",An,"argument>value"),t("ThrowStatement",wn,"argument>value"),t("WhileStatement",cn,"test>condition, body>body"),t("DoWhileStatement",sn,"test>condition, body>body"),t("ForStatement",fn,"init>init, test>condition, update>step, body>body"),t("ForInStatement",ln,"left>init, right>object, body>body"),t("DebuggerStatement",K),t("FunctionDeclaration",gn,"id>name, params@argnames, body%body"),t("VariableDeclarator",zn,"id>name, init>value"),t("CatchClause",On,"param>argname, body%body"),t("ThisExpression",he),t("ArrayExpression",Jn,"elements@elements"),t("FunctionExpression",vn,"id>name, params@argnames, body%body"),t("BinaryExpression",Yn,"operator=operator, left>left, right>right"),t("LogicalExpression",Yn,"operator=operator, left>left, right>right"),t("AssignmentExpression",Gn,"operator=operator, left>left, right>right"),t("ConditionalExpression",Xn,"test>condition, consequent>consequent, alternate>alternative"),t("NewExpression",Rn,"callee>expression, arguments@args"),t("CallExpression",Hn,"callee>expression, arguments@args"),i(Z,function(n){return{type:"ExpressionStatement",expression:{type:"Literal",value:n.value}}}),i(Q,function(n){return{type:"ExpressionStatement",expression:a(n.body)}}),i(kn,function(n){return{type:"SwitchCase",test:a(n.expression),consequent:n.body.map(a)}}),i(Tn,function(n){return{type:"TryStatement",block:u(n),handler:a(n.bcatch),guardedHandlers:[],finalizer:a(n.bfinally)}}),i(On,function(n){return{type:"CatchClause",param:a(n.argname),guard:null,body:u(n)}}),i(Mn,function(n){return{type:"VariableDeclaration",kind:n instanceof Nn?"const":"var",declarations:n.definitions.map(a)}}),i(jn,function(n){return{type:"SequenceExpression",expressions:n.to_array().map(a)}}),i(Pn,function(n){var e=n instanceof Un;return{type:"MemberExpression",object:a(n.expression),computed:e,property:e?a(n.property):{type:"Identifier",name:n.property}}}),i(Ln,function(n){return{type:"++"==n.operator||"--"==n.operator?"UpdateExpression":"UnaryExpression",operator:n.operator,prefix:n instanceof Vn,argument:a(n.expression)}}),i(Yn,function(n){return{type:"&&"==n.operator||"||"==n.operator?"LogicalExpression":"BinaryExpression",left:a(n.left),operator:n.operator,right:a(n.right)}}),i(Kn,function(n){return{type:"ObjectExpression",properties:n.properties.map(a)}}),i(Zn,function(n){var e,t=x(n.key)?{type:"Identifier",name:n.key}:{type:"Literal",value:n.key};return n instanceof Qn?e="init":n instanceof ee?e="get":n instanceof ne&&(e="set"),{type:"Property",kind:e,key:t,value:a(n.value)}}),i(te,function(n){var e=n.definition();return{type:"Identifier",name:e?e.mangled_name||e.name:n.name}}),i(_e,function(n){var e=n.value;return"number"==typeof e&&(0>e||0===e&&0>1/e)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-e}}:{type:"Literal",value:e}}),i(be,function(n){return{type:"Identifier",name:String(n.value)}}),Fe.DEFMETHOD("to_mozilla_ast",_e.prototype.to_mozilla_ast),ye.DEFMETHOD("to_mozilla_ast",_e.prototype.to_mozilla_ast),Ee.DEFMETHOD("to_mozilla_ast",function(){return null}),nn.DEFMETHOD("to_mozilla_ast",en.prototype.to_mozilla_ast),_n.DEFMETHOD("to_mozilla_ast",vn.prototype.to_mozilla_ast);var c=null;G.from_mozilla_ast=function(n){var e=c;c=[];var t=r(n);return c=e,t}}(),n.array_to_hash=t,n.slice=r,n.characters=o,n.member=i,n.find_if=a,n.repeat_string=u,n.DefaultsError=s,n.defaults=c,n.merge=f,n.noop=l,n.MAP=Y,n.push_uniq=p,n.string_template=d,n.remove=h,n.mergeSort=_,n.set_difference=m,n.set_intersection=v,n.makePredicate=g,n.all=b,n.Dictionary=y,n.DEFNODE=A,n.AST_Token=X,n.AST_Node=G,n.AST_Statement=J,n.AST_Debugger=K,n.AST_Directive=Z,n.AST_SimpleStatement=Q,n.walk_body=w,n.AST_Block=nn,n.AST_BlockStatement=en,n.AST_EmptyStatement=tn,n.AST_StatementWithBody=rn,n.AST_LabeledStatement=on,n.AST_IterationStatement=an,n.AST_DWLoop=un,n.AST_Do=sn,n.AST_While=cn,n.AST_For=fn,n.AST_ForIn=ln,n.AST_With=pn,n.AST_Scope=dn,n.AST_Toplevel=hn,n.AST_Lambda=_n,n.AST_Accessor=mn,n.AST_Function=vn,n.AST_Defun=gn,n.AST_Jump=bn,n.AST_Exit=yn,n.AST_Return=An,n.AST_Throw=wn,n.AST_LoopControl=En,n.AST_Break=Dn,n.AST_Continue=Fn,n.AST_If=Cn,n.AST_Switch=Sn,n.AST_SwitchBranch=kn,n.AST_Default=Bn,n.AST_Case=xn,n.AST_Try=Tn,n.AST_Catch=On,n.AST_Finally=$n,n.AST_Definitions=Mn,n.AST_Var=qn,n.AST_Const=Nn,n.AST_VarDef=zn,n.AST_Call=Hn,n.AST_New=Rn,n.AST_Seq=jn,n.AST_PropAccess=Pn,n.AST_Dot=In,n.AST_Sub=Un,n.AST_Unary=Ln,n.AST_UnaryPrefix=Vn,n.AST_UnaryPostfix=Wn,n.AST_Binary=Yn,n.AST_Conditional=Xn,n.AST_Assign=Gn,n.AST_Array=Jn,n.AST_Object=Kn,n.AST_ObjectProperty=Zn,n.AST_ObjectKeyVal=Qn,n.AST_ObjectSetter=ne,n.AST_ObjectGetter=ee,n.AST_Symbol=te,n.AST_SymbolAccessor=re,n.AST_SymbolDeclaration=oe,n.AST_SymbolVar=ie,n.AST_SymbolConst=ae,n.AST_SymbolFunarg=ue,n.AST_SymbolDefun=se,n.AST_SymbolLambda=ce,n.AST_SymbolCatch=fe,n.AST_Label=le,n.AST_SymbolRef=pe,n.AST_LabelRef=de,n.AST_This=he,n.AST_Constant=_e,n.AST_String=me,n.AST_Number=ve,n.AST_RegExp=ge,n.AST_Atom=be,n.AST_Null=ye,n.AST_NaN=Ae,n.AST_Undefined=we,n.AST_Hole=Ee,n.AST_Infinity=De,n.AST_Boolean=Fe,n.AST_False=Ce,n.AST_True=Se,n.TreeWalker=E,n.KEYWORDS=ke,n.KEYWORDS_ATOM=Be,n.RESERVED_WORDS=xe,n.KEYWORDS_BEFORE_EXPRESSION=Te,n.OPERATOR_CHARS=Oe,n.RE_HEX_NUMBER=$e,n.RE_OCT_NUMBER=Me,n.RE_DEC_NUMBER=qe,n.OPERATORS=Ne,n.WHITESPACE_CHARS=ze,n.PUNC_BEFORE_EXPRESSION=He,n.PUNC_CHARS=Re,n.REGEXP_MODIFIERS=je,n.UNICODE=Pe,n.is_letter=D,n.is_digit=F,n.is_alphanumeric_char=C,n.is_unicode_digit=S,n.is_unicode_combining_mark=k,n.is_unicode_connector_punctuation=B,n.is_identifier=x,n.is_identifier_start=T,n.is_identifier_char=O,n.is_identifier_string=$,n.parse_js_number=M,n.JS_Parse_Error=q,n.js_error=N,n.is_token=z,n.EX_EOF=Ie,n.tokenizer=H,n.UNARY_PREFIX=Ue,n.UNARY_POSTFIX=Le,n.ASSIGNMENT=Ve,n.PRECEDENCE=We,n.STATEMENTS_WITH_LABELS=Ye,n.ATOMIC_START_TOKEN=Xe,n.parse=R,n.TreeTransformer=j,n.SymbolDef=P,n.base54=Ge,n.OutputStream=I,n.Compressor=U,n.SourceMap=L,n.find_builtins=V,n.mangle_properties=W}({},function(){return this}());