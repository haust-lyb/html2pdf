<!DOCTYPE html>
<html lang="zh">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta charset="utf-8"/>
    <title>Welcome - haust_lyb</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
    <link rel="icon" type="image/x-icon" href="${ctxPath}/static/imgs/akali.png.icon.ico" />

    <!--[if !IE]> -->
    <link rel="stylesheet" href="${ctxPath}/static/ace/assets/css/pace.css"/>

    <script data-pace-options='{ "ajax": true, "document": true, "eventLag": false, "elements": false }'
            src="${ctxPath}/static/ace/assets/js/pace.js"></script>

    <!-- <![endif]-->

    <!-- bootstrap & fontawesome -->
    <link rel="stylesheet" href="${ctxPath}/static/ace/assets/css/bootstrap.css"/>
    <link rel="stylesheet" href="${ctxPath}/static/ace/assets/css/font-awesome.css"/>

    <!-- text fonts -->
    <link rel="stylesheet" href="${ctxPath}/static/ace/assets/css/ace-fonts.css"/>

    <!-- ace styles -->
    <link rel="stylesheet" href="${ctxPath}/static/ace/assets/css/ace.css" class="ace-main-stylesheet" id="main-ace-style"/>

    <!--[if lte IE 9]>
    <link rel="stylesheet" href="${ctxPath}/static/ace/assets/css/ace-part2.css" class="ace-main-stylesheet"/>
    <![endif]-->

    <!--[if lte IE 9]>
    <link rel="stylesheet" href="${ctxPath}/static/ace/assets/css/ace-ie.css"/>
    <![endif]-->

    <!-- ace settings handler -->
    <script src="${ctxPath}/static/ace/assets/js/ace-extra.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->

    <!--[if lte IE 8]>
    <script src="${ctxPath}/static/ace/assets/js/html5shiv.js"></script>
    <script src="${ctxPath}/static/ace/assets/js/respond.js"></script>
    <![endif]-->


    <link rel="stylesheet" href="${ctxPath}/static/elementui/index.css">
    <link rel="stylesheet" href="${ctxPath}/static/css/index.css">
    <link rel="stylesheet" href="${ctxPath}/static/vue-treeselect/vue-treeselect.min.css">
    <script src="${ctxPath}/static/vue/vue.js"></script>
    <script src="${ctxPath}/static/elementui/index.js"></script>
    <script src="${ctxPath}/static/vue-treeselect/vue-treeselect.umd.min.js"></script>
    <script src="${ctxPath}/static/vueElementComponet/index.js"></script>

    <script src="${ctxPath}/static/ace/assets/js/jquery.js"></script>
    <script src="${ctxPath}/static/layer/layer.js"></script>
    <script src="${ctxPath}/static/js/jqueryloading.js"></script>
    <link rel="stylesheet" href="${ctxPath}/editor/css/editormd.css">
    <script src="${ctxPath}/static/editor/lib/marked.min.js"></script>
    <script src="${ctxPath}/static/editor/lib/prettify.min.js"></script>

    <script src="${ctxPath}/static/editor/lib/raphael.min.js"></script>
    <script src="${ctxPath}/static/editor/lib/underscore.min.js"></script>
    <script src="${ctxPath}/static/editor/lib/sequence-diagram.min.js"></script>
    <script src="${ctxPath}/static/editor/lib/flowchart.min.js"></script>
    <script src="${ctxPath}/static/editor/lib/jquery.flowchart.min.js"></script>
    <script src="${ctxPath}/static/editor/editormd.min.js"></script>

</head>

<body class="no-skin">
<!-- #section:basics/navbar.layout -->
<div id="navbar" class="navbar navbar-default">
    <script type="text/javascript">
        try {
            ace.settings.check('navbar', 'fixed')
        } catch (e) {
        }
    </script>

    <div class="navbar-container" id="navbar-container">
        <!-- #section:basics/sidebar.mobile.toggle -->
        <button type="button" class="navbar-toggle menu-toggler pull-left" id="menu-toggler" data-target="#sidebar">
            <span class="sr-only">Toggle sidebar</span>

            <span class="icon-bar"></span>

            <span class="icon-bar"></span>

            <span class="icon-bar"></span>
        </button>

        <!-- /section:basics/sidebar.mobile.toggle -->
        <div class="navbar-header pull-left">
            <!-- #section:basics/navbar.layout.brand -->
            <a href="#" class="navbar-brand">
                <small>
                    <i class="fa fa-leaf"></i>
                    haust_lyb
                </small>
            </a>

            <!-- /section:basics/navbar.layout.brand -->

            <!-- #section:basics/navbar.toggle -->

            <!-- /section:basics/navbar.toggle -->
        </div>

        <!-- #section:basics/navbar.dropdown -->
        <div class="navbar-buttons navbar-header pull-right" role="navigation">
            <ul class="nav ace-nav">

                <!-- /section:basics/navbar.user_menu -->
            </ul>
        </div>

        <!-- /section:basics/navbar.dropdown -->
    </div><!-- /.navbar-container -->
</div>

<!-- /section:basics/navbar.layout -->
<div class="main-container" id="main-container">
    <script type="text/javascript">
        try {
            ace.settings.check('main-container', 'fixed')
        } catch (e) {
        }
    </script>

    <!-- #section:basics/sidebar -->
    <div id="sidebar" class="sidebar                  responsive">
        <script type="text/javascript">
            try {
                ace.settings.check('sidebar', 'fixed')
            } catch (e) {
            }
        </script>

        <!-- /.sidebar-shortcuts -->

        <ul class="nav nav-list">
            <li class="">
                <a data-url="page/dashboard" href="#page/dashboard">
                    <i class="menu-icon fa fa-tachometer"></i>
                    <span class="menu-text"> 首页 </span>
                </a>

                <b class="arrow"></b>
            </li>

            <li class="">
                <a href="#" class="dropdown-toggle">
                    <i class="menu-icon fa fa-pencil-square-o"></i>
                    <span class="menu-text">模板管理</span>
                    <b class="arrow fa fa-angle-down"></b>
                </a>
                <b class="arrow"></b>
                <ul class="submenu">
                    <li class="">
                        <a data-url="page/templateManage" href="#page/templateManage">
                            <i class="menu-icon fa fa-caret-right"></i>
                            模板管理
                        </a>

                        <b class="arrow"></b>
                    </li>
                </ul>
            </li>

        </ul><!-- /.nav-list -->

        <!-- #section:basics/sidebar.layout.minimize -->
        <div class="sidebar-toggle sidebar-collapse" id="sidebar-collapse">
            <i class="ace-icon fa fa-angle-double-left" data-icon1="ace-icon fa fa-angle-double-left"
               data-icon2="ace-icon fa fa-angle-double-right"></i>
        </div>

        <!-- /section:basics/sidebar.layout.minimize -->
        <script type="text/javascript">
            try {
                ace.settings.check('sidebar', 'collapsed')
            } catch (e) {
            }
        </script>
    </div>

    <!-- /section:basics/sidebar -->
    <div class="main-content">
        <div class="main-content-inner">
            <!-- #section:basics/content.breadcrumbs -->
            <div class="breadcrumbs" id="breadcrumbs">
                <script type="text/javascript">
                    try {
                        ace.settings.check('breadcrumbs', 'fixed')
                    } catch (e) {
                    }
                </script>

                <ul class="breadcrumb">
                    <li>
                        <i class="ace-icon fa fa-home home-icon"></i>
                        <a href="#">Home</a>
                    </li>
                </ul><!-- /.breadcrumb -->

                <!-- #section:basics/content.searchbox -->
                <!--<div class="nav-search" id="nav-search">-->
                    <!--<form class="form-search">-->
								<!--<span class="input-icon">-->
									<!--<input type="text" placeholder="Search ..." class="nav-search-input"-->
                                           <!--id="nav-search-input" autocomplete="off"/>-->
									<!--<i class="ace-icon fa fa-search nav-search-icon"></i>-->
								<!--</span>-->
                    <!--</form>-->
                <!--</div>&lt;!&ndash; /.nav-search &ndash;&gt;-->

                <!-- /section:basics/content.searchbox -->
            </div>

            <!-- /section:basics/content.breadcrumbs -->
            <div class="page-content">
                <!-- #section:settings.box -->
                <div class="ace-settings-container" id="ace-settings-container">
                    <div class="btn btn-app btn-xs btn-warning ace-settings-btn" id="ace-settings-btn">
                        <i class="ace-icon fa fa-cog bigger-130"></i>
                    </div>

                    <div class="ace-settings-box clearfix" id="ace-settings-box">
                        <div class="pull-left width-50">
                            <!-- #section:settings.skins -->
                            <div class="ace-settings-item">
                                <div class="pull-left">
                                    <select id="skin-colorpicker" class="hide">
                                        <option data-skin="no-skin" value="#438EB9">#438EB9</option>
                                        <option data-skin="skin-1" value="#222A2D">#222A2D</option>
                                        <option data-skin="skin-2" value="#C6487E">#C6487E</option>
                                        <option data-skin="skin-3" value="#D0D0D0">#D0D0D0</option>
                                    </select>
                                </div>
                                <span>&nbsp; Choose Skin</span>
                            </div>

                            <!-- /section:settings.skins -->

                            <!-- #section:settings.navbar -->
                            <div class="ace-settings-item">
                                <input type="checkbox" class="ace ace-checkbox-2" id="ace-settings-navbar"/>
                                <label class="lbl" for="ace-settings-navbar"> Fixed Navbar</label>
                            </div>

                            <!-- /section:settings.navbar -->

                            <!-- #section:settings.sidebar -->
                            <div class="ace-settings-item">
                                <input type="checkbox" class="ace ace-checkbox-2" id="ace-settings-sidebar"/>
                                <label class="lbl" for="ace-settings-sidebar"> Fixed Sidebar</label>
                            </div>

                            <!-- /section:settings.sidebar -->

                            <!-- #section:settings.breadcrumbs -->
                            <div class="ace-settings-item">
                                <input type="checkbox" class="ace ace-checkbox-2" id="ace-settings-breadcrumbs"/>
                                <label class="lbl" for="ace-settings-breadcrumbs"> Fixed Breadcrumbs</label>
                            </div>

                            <!-- /section:settings.breadcrumbs -->

                            <!-- #section:settings.rtl -->
                            <div class="ace-settings-item">
                                <input type="checkbox" class="ace ace-checkbox-2" id="ace-settings-rtl"/>
                                <label class="lbl" for="ace-settings-rtl"> Right To Left (rtl)</label>
                            </div>

                            <!-- /section:settings.rtl -->

                            <!-- #section:settings.container -->
                            <div class="ace-settings-item">
                                <input type="checkbox" class="ace ace-checkbox-2" id="ace-settings-add-container"/>
                                <label class="lbl" for="ace-settings-add-container">
                                    Inside
                                    <b>.container</b>
                                </label>
                            </div>

                            <!-- /section:settings.container -->
                        </div><!-- /.pull-left -->

                        <div class="pull-left width-50">
                            <!-- #section:basics/sidebar.options -->
                            <div class="ace-settings-item">
                                <input type="checkbox" class="ace ace-checkbox-2" id="ace-settings-hover"/>
                                <label class="lbl" for="ace-settings-hover"> Submenu on Hover</label>
                            </div>

                            <div class="ace-settings-item">
                                <input type="checkbox" class="ace ace-checkbox-2" id="ace-settings-compact"/>
                                <label class="lbl" for="ace-settings-compact"> Compact Sidebar</label>
                            </div>

                            <div class="ace-settings-item">
                                <input type="checkbox" class="ace ace-checkbox-2" id="ace-settings-highlight"/>
                                <label class="lbl" for="ace-settings-highlight"> Alt. Active Item</label>
                            </div>

                            <!-- /section:basics/sidebar.options -->
                        </div><!-- /.pull-left -->
                    </div><!-- /.ace-settings-box -->
                </div><!-- /.ace-settings-container -->

                <!-- /section:settings.box -->
                <div class="page-content-area" data-ajax-content="true">
                    <!-- ajax content goes here -->
                </div><!-- /.page-content-area -->
            </div><!-- /.page-content -->
        </div>
    </div><!-- /.main-content -->

    <div class="footer">
        <div class="footer-inner">
            <!-- #section:basics/footer -->
            <div class="footer-content">
						<span class="bigger-120">
							<span class="blue bolder">haust_lyb</span>
							模板管理系统 &copy; 2019-2021
						</span>

                <!--&nbsp; &nbsp;-->
                <!--<span class="action-buttons">-->
							<!--<a href="#">-->
								<!--<i class="ace-icon fa fa-twitter-square light-blue bigger-150"></i>-->
							<!--</a>-->

							<!--<a href="#">-->
								<!--<i class="ace-icon fa fa-facebook-square text-primary bigger-150"></i>-->
							<!--</a>-->

							<!--<a href="#">-->
								<!--<i class="ace-icon fa fa-rss-square orange bigger-150"></i>-->
							<!--</a>-->
						<!--</span>-->
            </div>

            <!-- /section:basics/footer -->
        </div>
    </div>

    <a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
        <i class="ace-icon fa fa-angle-double-up icon-only bigger-110"></i>
    </a>
</div><!-- /.main-container -->

<!-- basic scripts -->

<!--[if !IE]> -->
<script type="text/javascript">
    // window.jQuery || document.write("<script src='${ctxPath}/static/ace/assets/js/jquery.js'>" + "<" + "/script>");
</script>

<!-- <![endif]-->

<!--[if IE]>
<script type="text/javascript">
    alert("不建议在IE下使用");
</script>
<![endif]-->
<script type="text/javascript">
    if ('ontouchstart' in document.documentElement) document.write("<script src='${ctxPath}/static/ace/assets/js/jquery.mobile.custom.js'>" + "<" + "/script>");
</script>
<script src="${ctxPath}/static/ace/assets/js/bootstrap.js"></script>

<!-- ace scripts -->
<script src="${ctxPath}/static/ace/assets/js/ace/elements.scroller.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/elements.colorpicker.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/elements.fileinput.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/elements.typeahead.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/elements.wysiwyg.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/elements.spinner.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/elements.treeview.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/elements.wizard.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/elements.aside.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/ace.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/ace.ajax-content.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/ace.touch-drag.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/ace.sidebar.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/ace.sidebar-scroll-1.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/ace.submenu-hover.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/ace.widget-box.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/ace.settings.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/ace.settings-rtl.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/ace.settings-skin.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/ace.widget-on-reload.js"></script>
<script src="${ctxPath}/static/ace/assets/js/ace/ace.searchbox-autocomplete.js"></script>


<!--在线代码编辑器开始-->
<script src="${ctxPath}/static/code-online/resource_files/codemirror.min.js"></script>
<link rel="stylesheet" href="${ctxPath}/static/code-online/resource_files/codemirror.min.css">
<script src="${ctxPath}/static/code-online/resource_files/htmlmixed.min.js"></script>
<script src="${ctxPath}/static/code-online/resource_files/css.min.js"></script>
<script src="${ctxPath}/static/code-online/resource_files/javascript.min.js"></script>
<script src="${ctxPath}/static/code-online/resource_files/xml.min.js"></script>
<script src="${ctxPath}/static/code-online/resource_files/closetag.min.js"></script>
<script src="${ctxPath}/static/code-online/resource_files/closebrackets.min.js"></script>
<!--[if lt IE 9]>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.min.js"></script>
<![endif]-->

<style>

    .container {
        width: 98%;
        padding-right: 15px;
        padding-left: 15px;
        margin-right: auto;
        margin-left: auto
    }

    /*.CodeMirror {*/
    /*    min-height: 300px;;*/
    /*    font-family: Menlo, Monaco, Consolas, "Andale Mono", "lucida console", "Courier New", monospace;*/
    /*}*/

    #textareaCode {
        min-height: 300px
    }

    #iframeResult {
        display: block;
        overflow: hidden;
        border: 0 !important;
        min-width: 100px;
        width: 100%;
        min-height: 300px;
        background-color: #fff
    }

    @media screen and (max-width: 768px) {
        #textareaCode {
            height: 300px
        }

        .CodeMirror {
            height: 300px;
            font-family: Menlo, Monaco, Consolas, "Andale Mono", "lucida console", "Courier New", monospace;
        }

        #iframeResult {
            height: 300px
        }

        .form-inline {
            padding: 6px 0 2px 0
        }
    }
    .code-online-btn{
        background: #b3e19d;color: white;
        padding: 5px 8px;
    }

</style>
<script type="text/x-template" id="code-online">
    <div style="box-sizing: border-box;border: 1px solid gray;padding: 10px;background: whitesmoke">
        <div style="padding-bottom: 10px;box-sizing: border-box;line-height:22px;">
            <button @click.stop="resetCode()" class="code-online-btn">重置到最初的代码</button>
            <button @click.stop="submitTryit()" class="code-online-btn">运行看当前效果</button>
        </div>

        <div style="display: flex;">
            <div style="border: 1px solid #b3e19d;box-sizing: border-box;width: 50%;">
                <textarea class="form-control" :id="textareaCode_id" name="textareaCode" style="display: none;">{{default_code}}</textarea>
            </div>
            <div style="border: 1px solid #b3e19d;box-sizing: border-box;width: 50%;">
                <el-input
                        type="textarea"
                        style="width: 100%;height: 100%"
                        placeholder="测试数据（json格式）"
                        v-model="jsonData">
                </el-input>
            </div>
            <!--            <div style="border: 1px solid #b3e19d;box-sizing: border-box;width: 50%;" v-html="code_result"></div>-->
        </div>
        <div :id="iframewrapper_id" style="border: 1px solid #b3e19d;box-sizing: border-box;width: 100%;">
            <iframe frameborder="0" id="iframeResult" style="height: 100%;width: 100%;"></iframe>
        </div>
    </div>
</script>
<script>
    Vue.component('code-online', {
        template: '#code-online',
        name: "code-online",
        props: ['source_code'],
        data() {
            return {
                mixedMode: {
                    name: "htmlmixed",
                    scriptTypes: [{
                        matches: /\/x-handlebars-template|\/x-mustache/i,
                        mode: null
                    },
                        {
                            matches: /(text|application)\/(x-)?vb(a|script)/i,
                            mode: "vbscript"
                        }]
                },
                jsonData:'{"msg":"在此处输入测试数据"}',
                editor: null,
                textareaCode_id: this.uuid(5, 5),
                iframewrapper_id: this.uuid(5, 5),
                iframeResult_id: "",
                default_code: ``,
                code_result: ``
            }
        },
        created() {
            this.default_code = this.source_code;
        },
        mounted() {
            var that = this;
            console.log("生成UUID："+this.uuid(5, 5))
            that.editor = CodeMirror.fromTextArea(document.getElementById(that.textareaCode_id), {
                mode: that.mixedMode,
                selectionPointer: true,
                lineNumbers: false,
                matchBrackets: true,
                indentUnit: 4,
                indentWithTabs: true
            });
            that.submitTryit();
        },
        methods: {
            uuid: function (len, radix) {
                var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');
                var uuid = [],
                    i;
                radix = radix || chars.length;

                if (len) {
                    // Compact form
                    for (i = 0; i < len; i++) uuid[i] = chars[0 | Math.random() * radix];
                } else {
                    // rfc4122, version 4 form
                    var r;

                    // rfc4122 requires these characters
                    uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';
                    uuid[14] = '4';

                    // Fill in random data.  At i==19 set the high bits of clock sequence as
                    // per rfc4122, sec. 4.1.5
                    for (i = 0; i < 36; i++) {
                        if (!uuid[i]) {
                            r = 0 | Math.random() * 16;
                            uuid[i] = chars[(i == 19) ? (r & 0x3) | 0x8 : r];
                        }
                    }
                }
                return uuid.join('');
            },
            resetCode: function () {
                var that = this;
                that.editor.getDoc().setValue(that.default_code);
                that.submitTryit();
            },
            submitTryit: function () {
                var that = this;
                var text = that.editor.getValue();
                // that.code_result = text;
                var ifr = document.createElement("iframe");
                ifr.setAttribute("frameborder", "0");
                ifr.setAttribute("id", this.uuid(5, 5));
                ifr.setAttribute("width", '100%');
                ifr.setAttribute("height", '100%');
                document.getElementById(that.iframewrapper_id).innerHTML = "";
                document.getElementById(that.iframewrapper_id).appendChild(ifr);
                var ifrw = (ifr.contentWindow) ? ifr.contentWindow : (ifr.contentDocument.document) ? ifr.contentDocument.document : ifr.contentDocument;
                ifrw.document.open();
                ifrw.document.write(text);
                ifrw.document.close();
            },
            getHtmlData:function(){
                return this.editor.getValue();
            }
        }
    })
</script>
<!--在线代码编辑器结束-->

<!-- Snow Start -->
<style>
    #Snow{
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 99999;
        pointer-events: none;
    }
</style>
<!-- Snow End -->
<!-- Snow Start -->
<canvas id="Snow"></canvas>
<script>
    if(screen && screen.width > 768){
        (function() {
            var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame ||
                function(callback) {
                    window.setTimeout(callback, 1000 / 60);
                };
            window.requestAnimationFrame = requestAnimationFrame;
        })();

        (function() {
            var flakes = [],
                canvas = document.getElementById("Snow"),
                ctx = canvas.getContext("2d"),
                flakeCount = 200,
                mX = -100,
                mY = -100;

            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            function snow() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                for (var i = 0; i < flakeCount; i++) {
                    var flake = flakes[i],
                        x = mX,
                        y = mY,
                        minDist = 150,
                        x2 = flake.x,
                        y2 = flake.y;

                    var dist = Math.sqrt((x2 - x) * (x2 - x) + (y2 - y) * (y2 - y)),
                        dx = x2 - x,
                        dy = y2 - y;

                    if (dist < minDist) {
                        var force = minDist / (dist * dist),
                            xcomp = (x - x2) / dist,
                            ycomp = (y - y2) / dist,
                            deltaV = force / 2;

                        flake.velX -= deltaV * xcomp;
                        flake.velY -= deltaV * ycomp;

                    } else {
                        flake.velX *= .98;
                        if (flake.velY <= flake.speed) {
                            flake.velY = flake.speed
                        }
                        flake.velX += Math.cos(flake.step += .05) * flake.stepSize;
                    }

                    ctx.fillStyle = "rgba(255,255,255," + flake.opacity + ")";
                    flake.y += flake.velY;
                    flake.x += flake.velX;

                    if (flake.y >= canvas.height || flake.y <= 0) {
                        reset(flake);
                    }

                    if (flake.x >= canvas.width || flake.x <= 0) {
                        reset(flake);
                    }

                    ctx.beginPath();
                    ctx.arc(flake.x, flake.y, flake.size, 0, Math.PI * 2);
                    ctx.fill();
                }
                requestAnimationFrame(snow);
            };

            function reset(flake) {
                flake.x = Math.floor(Math.random() * canvas.width);
                flake.y = 0;
                flake.size = (Math.random() * 3) + 2;
                flake.speed = (Math.random() * 1) + 0.5;
                flake.velY = flake.speed;
                flake.velX = 0;
                flake.opacity = (Math.random() * 0.5) + 0.3;
            }

            function init() {
                for (var i = 0; i < flakeCount; i++) {
                    var x = Math.floor(Math.random() * canvas.width),
                        y = Math.floor(Math.random() * canvas.height),
                        size = (Math.random() * 3) + 2,
                        speed = (Math.random() * 1) + 0.5,
                        opacity = (Math.random() * 0.5) + 0.3;

                    flakes.push({
                        speed: speed,
                        velY: speed,
                        velX: 0,
                        x: x,
                        y: y,
                        size: size,
                        stepSize: (Math.random()) / 30 * 1,
                        step: 0,
                        angle: 180,
                        opacity: opacity
                    });
                }

                snow();
            };

            document.addEventListener("mousemove", function(e) {
                mX = e.clientX,
                    mY = e.clientY
            });
            window.addEventListener("resize", function() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
            init();
            // $(".colorpick-btn")[1].click();//模拟点击 更换皮肤
        })();
    }
</script>
</body>
</html>
